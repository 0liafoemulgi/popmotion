(function t(e,i,n){function r(u,a){if(!i[u]){if(!e[u]){var o=typeof require=="function"&&require;if(!a&&o)return o(u,!0);if(s)return s(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=i[u]={exports:{}};e[u][0].call(f.exports,function(t){var i=e[u][1][t];return r(i?i:t)},f,f.exports,t,e,i,n)}return i[u].exports}var s=typeof require=="function"&&require;for(var u=0;u<n.length;u++)r(n[u]);return r})({1:[function(t,e,i){"use strict";var n=t("./parse-args.js"),r=t("../types/value.js"),s=t("../types/repo.js"),u=t("./queue.js"),a=t("../process/process.js"),o=t("../opts/keys.js"),c=t("./processor.js"),f=t("../opts/action.js"),l=t("../opts/value.js"),p=t("../utils/calc.js"),h=t("../utils/utils.js"),v=function(){var t=this;t.values=new s;f.scope=this;t.props=new s(f);t.data=new s;t.process=new a(function(e,i){if(t.active){c(t,e,i)}});t.queue=new u;t.set(n.generic.apply(t,arguments))};v.prototype={progress:0,elapsed:0,inactiveFrames:0,play:function(){var t=n.play.apply(this,arguments);if(!this.isActive()){this.set(t)}return this.start(o.RUBIX.TIME)},run:function(){this.set(n.generic.apply(this,arguments));return this.start(o.RUBIX.RUN)},track:function(){this.set(n.track.apply(this,arguments));return this.start(o.RUBIX.INPUT)},set:function(t){var e=this.values.get();this.props.set(t);if(t.values){this.setValues(t.values,this.props.get())}for(var i in e){if(e.hasOwnProperty(i)){e[i].set("origin",e[i].get("current"))}}return this},start:function(t){var e=this;e.resetProgress();if(t){e.props.set("rubix",t)}e.isActive(true);e.started=h.currentTime()+e.props.get("delay");e.framestamp=e.started;e.firstFrame=true;e.process.start();return e},stop:function(){this.queue.clear();this.pause();return this},pause:function(){var t=this,e=this.getProp("input");t.isActive(false);t.process.stop();if(e&&e.stop){e.stop()}return t},resume:function(){var t=this;t.started=h.currentTime();t.framestamp=t.started;t.isActive(true);t.process.start();return t},reset:function(){var t=this,e=t.values.get();t.resetProgress();for(var i in e){e[i].reset()}return t},resetProgress:function(){var t=this;t.progress=0;t.elapsed=0;t.started=h.currentTime();return t},reverse:function(){var t=this,e=t.values.get();t.progress=p.difference(t.progress,1);t.elapsed=p.difference(t.elapsed,t.props.get("duration"));for(var i in e){e[i].reverse()}return t},toggle:function(){if(this.isActive()){this.pause()}else{this.resume()}},next:function(){var t=this,e=[{key:"loop",callback:t.reset},{key:"yoyo",callback:t.reverse}],i=e.length,n=false;for(var r=0;r<i;++r){if(t.checkNextStep(e[r].key,e[r].callback)){n=true;break}}if(!n&&!t.playNext()){t.stop()}else{t.isActive(true)}return t},checkNextStep:function(t,e){var i=false,n=this.props.get(t),r=this.props.get(t+"Count"),s=n===true;if(s||h.isNum(n)){++r;this.props.set(t+"Count",r);if(s||r<=n){e.call(this);i=true}}return i},playNext:function(){var t=false,e=this.queue.next();if(h.isArray(e)){this.set(n.generic.apply(this,e)).reset();t=true}return t},setValues:function(t,e){var i=this.values.get();for(var n in t){if(t.hasOwnProperty(n)){this.setValue(n,t[n],e)}}if(this.getValue("angle")&&this.getValue("distance")){this.setValue("radialX",{link:o.ANGLE_DISTANCE});this.setValue("radialY",{link:o.ANGLE_DISTANCE})}},setValue:function(t,e,i){var n=this.getValue(t),s;if(n){n.set(e,i)}else{s=new r(l,this,t);s.set(e,i);this.values.set(t,s)}return this},getValue:function(t){return this.values.get(t)},setProp:function(t,e){this.props.set(t,e);return this},getProp:function(t){return this.props.get(t)},isActive:function(t){return this.active=t!==undefined?t:this.active},updateOrder:function(t,e){var i=this.props.get(),n=i.order=i.order?i.order:[],r=n.indexOf(t);if(r===-1||e){n.push(t);if(r!==-1){n.splice(r,1)}}}};e.exports=v},{"../opts/action.js":10,"../opts/keys.js":11,"../opts/value.js":12,"../process/process.js":15,"../types/repo.js":19,"../types/value.js":20,"../utils/calc.js":21,"../utils/utils.js":27,"./parse-args.js":2,"./processor.js":4,"./queue.js":5}],2:[function(t,e,i){"use strict";var n=t("../utils/utils.js"),r=t("./presets.js"),s=t("../input/pointer.js"),u="string",a="number",o="object",c=function(){var t={},e=[],i=arguments[0],s=arguments[1],a=0,c=[].slice.call(arguments),f=0;if(typeof i==u){e=i.split(" ");a=e.length;t=r.getDefined(e[0]);if(a>1){for(;f<a;f++){c.shift();c.unshift(e[f]);this.queue.add.apply(this.queue,c)}}if(typeof s==o){t=n.merge(t,s)}}else if(typeof i==o){t=i}return t};e.exports={play:function(){var t=c.apply(this,arguments),e=arguments.length,i=0,r,s="";t.playhead=t.loopCount=t.yoyoCount=0;for(;i<e;i++){r=arguments[i];s=typeof r;if(s==u&&i!==0){t.ease=r}else if(s==a){t.duration=r}else if(n.isFunc(r)){t.onEnd=r}}return t},track:function(){var t={},e=arguments.length,i=e-1,r=arguments[i];for(var a=0;a<i;a++){if(typeof arguments[a]===u){}else{t=n.merge(t,arguments[a])}}r=!r.current?new s(r):r;t.input=r;t.inputOrigin=r.get();return t},generic:c}},{"../input/pointer.js":9,"../utils/utils.js":27,"./presets.js":3}],3:[function(t,e,i){"use strict";var n=t("../opts/keys.js"),r=t("../utils/utils.js"),s=function(t){var e=t.split(a),i=e.length,n=e[0],r=1;for(;r<i;r++){e[r]=n+=a+e[r]}return e},u={},a=".",o=function(){};o.prototype={define:function(t,e){var i={},n="";if(r.isObj(t)){i=t}else{i[t]=e}for(n in i){if(i.hasOwnProperty(n)){u[n]=i[n]}}},getDefined:function(t){var e={},i={},n=s(t),a=n.length,o=0;for(;o<a;o++){i=u[n[o]];console.log(n[o],u);if(i){e=r.merge(e,i)}}return e}};e.exports=new o},{"../opts/keys.js":11,"../utils/utils.js":27}],4:[function(t,e,i){"use strict";var n=t("./rubix.js"),r=t("../opts/keys.js"),s=t("../utils/calc.js");e.exports=function(t,e,i){var u=t.props.store,a=t.data.store,o=t.values.store,c=u.order=u.order||[],f=c.length,l=n[u.rubix],p="",h,v,d,g=false;t.output={};if(l.updateInput){l.updateInput(t,u,e)}if(t.firstFrame){if(u.onStart){u.onStart.call(u.scope,t.output,a)}t.firstFrame=false}if(u.input){t.output.input=u.input.onFrame(e)}for(var m=0;m<f;m++){p=c[m];h=o[p].store;v=l;if(h.link){v=h.link!==r.ANGLE_DISTANCE?n["Link"]:n["AngleAndDistance"]}d=v.process(p,h,o,u,t,i);if(l.limit){d=l.limit(d,h)}if(h.round){d=Math.round(d)}h.velocity=s.speedPerSecond(s.difference(h.current,d),i);if(h.current!=d){g=true}h.current=d;t.output[p]=h.unit?d+h.unit:d}if(u.onFrame){u.onFrame.call(u.scope,t.output,a)}if(g&&u.onChange){u.onChange.call(u.scope,t.output,a)}if(l.hasEnded(t,g)){t.isActive(false);if(u.onEnd){u.onEnd.call(u.scope,t.output,a)}if(!t.isActive()){t.next()}}t.framestamp=e}},{"../opts/keys.js":11,"../utils/calc.js":21,"./rubix.js":6}],5:[function(t,e,i){"use strict";var n=function(){this.clear()};n.prototype={add:function(){this.queue.push([].slice.call(arguments))},next:function(){var t=this.queue,e=false;t.shift();if(t.length){e=t[0]}else{this.clear()}return e},clear:function(){this.queue=[]}};e.exports=n},{}],6:[function(t,e,i){"use strict";var n=t("../utils/calc.js"),r=t("../utils/utils.js"),s=t("../utils/easing.js"),u=t("../opts/keys.js"),a=t("./simulate.js"),o=function(){},c;o.prototype={Time:{updateInput:function(t,e,i){t.elapsed+=(i-t.framestamp)*e.dilate;t.hasEnded=true},process:function(t,e,i,u,a){var o=e.current,c=n.restricted(n.progress(a.elapsed-e.delay,e.duration)-e.stagger,0,1);a.hasEnded=c!==1?false:a.hasEnded;if(e.to!==undefined){c=e.steps?r.stepProgress(c,1,e.steps):c;o=s.withinRange(c,e.origin,e.to,e.ease)}return o},hasEnded:function(t){return t.hasEnded}},Input:{updateInput:function(t,e){t.inputOffset=n.offset(e.inputOrigin,e.input.current)},process:function(t,e,i,n,r){return r.inputOffset.hasOwnProperty(t)?e.origin+r.inputOffset[t]:e.current},hasEnded:function(){return false}},Run:{process:function(t,e,i,r,s,u){return e.current+n.speedPerFrame(a[e.simulate](e,u),u)},hasEnded:function(t,e){t.inactiveFrames=e?0:t.inactiveFrames+1;return t.inactiveFrames>3},limit:function(t,e){t=n.restricted(t,e.min,e.max);e.velocity=e.bounce&&(t<=e.min||t>=e.max)?a.bounce(e):e.velocity;return t}},Link:{process:function(t,e,i,r,s){var u=e.current,a=e.mapLink,o=e.mapTo,c=a!==undefined?a.length:0,u;if(i[e.link]){u=i[e.link].store.current}else if(s.inputOffset&&s.inputOffset.hasOwnProperty(e.link)){u=e.origin+s.inputOffset[t]}for(var f=1;f<c;f++){if(u<a[f]||f===c-1){u=n.value(n.restricted(n.progress(u,a[f-1],a[f]),0,1),o[f-1],o[f]);break}}return u}},AngleAndDistance:{process:function(t,e,i,r,s){var u={x:i.x?i.x.store.current:0,y:i.y?i.y.store.current:0},a=n.pointFromAngleAndDistance(u,i.angle.store.current,i.distance.store.current),o={radialX:a.x,radialY:a.y};return o[t]}}};c=new o;e.exports=c},{"../opts/keys.js":11,"../utils/calc.js":21,"../utils/easing.js":22,"../utils/utils.js":27,"./simulate.js":7}],7:[function(t,e,i){"use strict";var n=.2,r=t("../utils/calc.js"),s=r.speedPerFrame,u=function(){},a;u.prototype={velocity:function(t,e){return t.velocity-s(t.deceleration,e)+s(t.acceleration,e)},gravity:function(t,e){return t.velocity+s(t.gravity,e)},friction:function(t,e){var i=s(t.velocity,e)*(1-t.friction);return i<n&&i>-n?0:r.speedPerSecond(i,e)},spring:function(t,e){var i=t.to-t.current,n=i*s(t.spring,e);t.velocity+=n;return this.friction(t,e)},bounce:function(t){return t.velocity*=-t.bounce}};a=new u;e.exports=a},{"../utils/calc.js":21}],8:[function(t,e,i){"use strict";var n=t("../utils/calc.js"),r=t("../utils/utils.js"),s=t("../utils/history.js"),u=function(){var t=arguments.length-1;this.current={};this.offset={};this.velocity={};this.history=new s;this.update(arguments[0],arguments[1]);if(r.isFunc(arguments[t])){this.poll=arguments[t]}};u.prototype={maxInactiveFrames:2,inactiveFrames:0,get:function(t){var e=this.history.get(),i=t!==undefined?e[t]:e;return i},update:function(){var t={};if(r.isNum(arguments[1])){t[arguments[0]]=arguments[1]}else{t=arguments[0]}this.history.add(r.merge(this.current,t));return this},onFrame:function(t){var e,i;if(t===this.lastFrame){return}e=this.poll?this.poll():this.history.get();i=r.hasChanged(this.current,e);if(i){this.velocity=n.offset(this.current,e);this.current=e;this.inactiveFrames=0}else if(this.inactiveFrames>=this.maxInactiveFrames){this.velocity=n.offset(this.current,this.current)}else{this.inactiveFrames++}this.lastFrame=t;return this}};e.exports=u},{"../utils/calc.js":21,"../utils/history.js":24,"../utils/utils.js":27}],9:[function(t,e,i){"use strict";var n=t("./input.js"),r=t("../opts/keys.js"),s,u=function(t,e){var i=e?t.changedTouches[0]:false;return{x:i?i.clientX:t.screenX,y:i?i.clientY:t.screenY}},a=function(t){return t.originalEvent||t},o=function(t){var e=a(t),i=e.touches?true:false,n=u(e,i);this.update(n);this.isTouch=i;this.bindEvents()};o.prototype=new n;o.prototype.bindEvents=function(t){this.moveEvent=this.isTouch?r.EVENT.TOUCHMOVE:r.EVENT.MOUSEMOVE;s=this;document.documentElement.addEventListener(this.moveEvent,this.onMove)};o.prototype.unbindEvents=function(){document.documentElement.removeEventListener(this.moveEvent,this.onMove)};o.prototype.onMove=function(t){var e=u(t,s.isTouch);t=a(t);t.preventDefault();s.update(e)};o.prototype.stop=function(){this.unbindEvents()};e.exports=o},{"../opts/keys.js":11,"./input.js":8}],10:[function(t,e,i){"use strict";var n=t("../action/rubix.js");e.exports={active:false,rubix:"Time",amp:1,escapeAmp:0,delay:0,duration:400,ease:"easeInOut",dilate:1,loopCount:0,yoyoCount:0}},{"../action/rubix.js":6}],11:[function(t,e,i){"use strict";e.exports={REDSHIFT:"redshift",ANGLE_DISTANCE:"angle distance",RUBIX:{INPUT:"Input",TIME:"Time",RUN:"Run"},EVENT:{MOUSE:"mouse",MOUSEMOVE:"mousemove",TOUCH:"touch",TOUCHMOVE:"touchmove"}}},{}],12:[function(t,e,i){"use strict";e.exports={current:0,start:0,to:undefined,min:undefined,max:undefined,hasRange:false,round:false,parent:undefined,unitName:undefined,link:undefined,mapLink:undefined,mapTo:undefined,simulate:"velocity",velocity:0,deceleration:0,acceleration:0,gravity:30,bounce:0,friction:0,spring:.03,duration:400,delay:0,stagger:0,ease:"easeInOut",steps:0,escapeAmp:0}},{}],13:[function(t,e,i){"use strict";var n=t("./timer.js"),r=function(){this.timer=new n},s;r.prototype={isRunning:false,frame:function(){var t=this;requestAnimationFrame(function(){var e=t.timer.update(),i=t.callback.call(t.scope,e,t.timer.getElapsed());if(i){t.frame(true)}else{t.stop()}})},start:function(){if(!this.isRunning){this.isRunning=true;this.frame()}},stop:function(){this.isRunning=false},setCallback:function(t,e){this.scope=t;this.callback=e}};e.exports=new r},{"./timer.js":16}],14:[function(t,e,i){"use strict";var n=t("./loop.js"),r=function(){this.all={};this.active=[];this.deactivateQueue=[];n.setCallback(this,this.fireActive)};r.prototype={processCounter:0,activeCount:0,getProcess:function(t){return this.all[t]},getActiveCount:function(){return this.activeCount},getActive:function(){return this.active},getQueueLength:function(){return this.deactivateQueue.length},fireActive:function(t,e){var i,n=0,r=[];this.purge();n=this.getActiveCount();r=this.getActive();for(var s=0;s<n;s++){i=this.getProcess(r[s]);if(i){i.fire(t,e)}}this.purge();n=this.getActiveCount();return n?true:false},register:function(t){var e=this.processCounter;this.all[e]=t;this.processCounter++;return e},activate:function(t){var e=this.deactivateQueue.indexOf(t),i=e>-1,r=this.active.indexOf(t)>-1;if(i){this.deactivateQueue.splice(e,1)}if(!r){this.active.push(t);this.activeCount++;n.start(this)}},deactivate:function(t){this.deactivateQueue.push(t)},purge:function(){var t,e=this.getQueueLength();while(e--){t=this.active.indexOf(this.deactivateQueue[e]);if(t>-1){this.active.splice(t,1);this.activeCount--}}this.deactivateQueue=[]},kill:function(t){delete this.all[t]}};e.exports=new r},{"./loop.js":13}],15:[function(t,e,i){"use strict";var n=t("./manager.js"),r=function(){var t=arguments[1]!==undefined,e=t?arguments[1]:arguments[0],i=t?arguments[0]:this;this.setCallback(e);this.setScope(i);this.setId(n.register(this))};r.prototype={isActive:false,isKilled:false,fire:function(t,e){if(this.isActive){this.callback.call(this.scope,t,e)}if(this.isInterval){this.deactivate()}},setCallback:function(t){this.callback=t;return this},setScope:function(t){this.scope=t;return this},start:function(t){var e=this;e.reset();e.activate();if(t){e.stopTimer=setTimeout(function(){e.stop()},t)}return e},stop:function(){this.reset();this.deactivate();return this},activate:function(){if(!this.isKilled){this.isActive=true;n.activate(this.id)}return this},deactivate:function(){this.isActive=false;n.deactivate(this.id);return this},every:function(t){var e=this;this.reset();this.isInterval=true;this.intervalTimer=setInterval(function(){e.activate()},t)},reset:function(){this.isInterval=false;clearTimeout(this.stopTimer);clearInterval(this.intervalTimer);return this},kill:function(){this.stop();this.isKilled=true;n.kill(this.id)},setId:function(t){this.id=t}};e.exports=r},{"./manager.js":14}],16:[function(t,e,i){"use strict";var n=30,r=function(){this.update()};r.prototype={update:function(){this.prev=this.current;return this.current=(new Date).getTime()},getElapsed:function(){return Math.min(this.current-this.prev,n)}};e.exports=r},{}],17:[function(t,e,i){"use strict";var n=t("./action/action.js"),r=t("./input/input.js"),s=t("./action/presets.js"),u=t("./utils/easing.js"),a=t("./utils/calc.js"),o=t("./utils/utils.js"),c=t("./utils/shim.js"),f=t("./process/process.js"),l=function(){c()};l.prototype={newAction:function(t,e){return new n(t,e)},newInput:function(){return new r(arguments[0],arguments[1])},newProcess:function(){return new f(arguments[0],arguments[1])},addPreset:function(){s.define.apply(s,arguments);return this},addBezier:function(){u.addBezier.apply(u,arguments);return this},calc:a,utils:o};e.exports=new l},{"./action/action.js":1,"./action/presets.js":3,"./input/input.js":8,"./process/process.js":15,"./utils/calc.js":21,"./utils/easing.js":22,"./utils/shim.js":26,"./utils/utils.js":27}],18:[function(t,e,i){(function(t){"use strict";var i=8,n=.001,r=1e-7,s=10,u=11,a=1/(u-1),o="Float32Array"in t,c=function(t,e){return 1-3*e+3*t},f=function(t,e){return 3*e-6*t},l=function(t){return 3*t},p=function(t,e,i){return 3*c(e,i)*t*t+2*f(e,i)*t+l(e)},h=function(t,e,i){return((c(e,i)*t+f(e,i))*t+l(e))*t},v=function(t,e,r,s){var c=o?new Float32Array(u):new Array(u),f=false,l=function(e,n){var s=0,u=0,a;for(;s<i;++s){u=p(n,t,r);if(u===0){return n}a=h(n,t,r)-e;n-=a/u}return n},v=function(){var e=0;for(;e<i;++e){c[e]=h(e*a,t,r)}},d=function(e){var i=0,s=1,o=u-1,f=0,h=0,v=0;for(;s!=o&&c[s]<=e;++s){i+=a}--s;f=(e-c[s])/(c[s+1]-c[s]);h=i+f*a;v=p(h,t,r);if(v>=n){return l(e,h)}else if(v===0){return h}else{return binarySubdivide(e,i,i+a)}},g=function(){f=true;if(t!=e||r!=s){v()}},m=function(i){var n;if(!f){g()}if(t===e&&r===s){n=i}else if(i===0){n=0}else if(i===1){n=1}else{n=h(d(i),e,s)}return n};return m};e.exports=v}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],19:[function(t,e,i){"use strict";var n=t("../utils/utils.js"),r=function(){this.store={};this.set.apply(this,arguments)};r.prototype={get:function(){var t=arguments;return t.length?this.store[t[0]]:this.store},set:function(t){if(n.isObj(t)){for(var e in t){if(t.hasOwnProperty(e)){this.store[e]=t[e]}}}else if(t!==undefined){this.store[t]=arguments[1]}return this}};e.exports=r},{"../utils/utils.js":27}],20:[function(t,e,i){"use strict";var n=t("../utils/calc.js"),r=t("../utils/utils.js"),s=t("../utils/resolve.js"),u=t("./repo.js"),a=function(t,e,i,n){var r={},u;for(var a in i){u=undefined;if(e&&e.hasOwnProperty(a)&&!t.hasOwnProperty(a)){u=e[a]}else if(t.hasOwnProperty(a)){u=t[a]}if(u!==undefined){r[a]=s(u,i[a],i,n)}}return r},o=function(){var t=new u,e=t.set,i=true,n=arguments[1],o=arguments[2];e.call(t,arguments[0]);t.set=function(){var t=arguments,u=t[0],c=t[1],f={},l=this.store,p=n.getProp("scope"),h=false;if(r.isObj(u)){f=a(u,c,l,p);if(i){i=false;if(u.hasOwnProperty("start")){e.apply(this,["current",s(u.start,this.get("current"),l,p)])}}}else{if(r.isString(u)&&!r.isRelativeValue(u)){f[u]=s(c,this.get("current"),l,p)}else{f.current=s(u,this.get("current"),l,p)}}e.apply(this,[f]);e.apply(this,["hasRange",r.isNum(l.min)&&r.isNum(l.max)]);n.updateOrder(o,r.isString(l.link))};t.reset=function(){this.set("current",this.get("origin"))};t.reverse=function(){var t=this.get("to");this.set({to:this.get("origin"),origin:t!==undefined?t:this.get("current")})};return t};e.exports=o},{"../utils/calc.js":21,"../utils/resolve.js":25,"../utils/utils.js":27,"./repo.js":19}],21:[function(t,e,i){"use strict";var n=t("./utils.js");e.exports={angle:function(t,e){var i=e?t:{x:0,y:0},n=e||t,r={x:this.difference(i.x,n.x),y:this.difference(i.y,n.y)};return this.angleFromCenter(r.x,r.y)},angleFromCenter:function(t,e){return Math.atan2(e,t)},degreesToRadians:function(t){return t*Math.PI/180},difference:function(t,e){return e-t},dilate:function(t,e,i){return t+(e-t)*i},distance:function(t,e){return typeof t==="number"?this.distance1D(t,e):this.distance2D(t,e)},distance1D:function(t,e){var i=typeof e==="number",n=i?t:0,r=i?e:t;return Math.abs(this.difference(n,r))},distance2D:function(t,e){var i=typeof e==="object",n=i?t:{x:0,y:0},r=i?e:t,s={x:Math.abs(this.difference(n.x,r.x)),y:Math.abs(this.difference(n.y,r.y))};return this.hypotenuse(s.x,s.y)},hypotenuse:function(t,e){var i=t*t,n=e*e,r=i+n;return Math.sqrt(r)},offset:function(t,e){var i={},r,s;for(var u in e){if(e.hasOwnProperty(u)){if(t.hasOwnProperty(u)){i[u]=this.difference(t[u],e[u])}else{i[u]=0}}}if(n.isNum(i.x)&&n.isNum(i.y)){i.angle=this.angle(t,e);i.distance=this.distance2D(t,e)}return i},pointFromAngleAndDistance:function(t,e,i){var n={};n.x=i*Math.cos(e)+t.x;n.y=i*Math.sin(e)+t.y;return n},progress:function(t,e,i){var n=typeof i==="number",r=n?e:0,s=n?i:e,u=this.difference(r,s),a=(t-r)/u;return a},radiansToDegrees:function(t){return t*180/Math.PI},random:function(t,e){t=n.isNum(t)?t:0;e=n.isNum(e)?e:1;return Math.random()*(e-t)+t},relativeValue:function(t,e){var i=t,r=e.split("="),s=r[0],u=n.splitValUnit(r[1]);switch(s){case"+":i+=u.value;break;case"-":i-=u.value;break;case"*":i*=u.value;break;case"/":i/=u.value;break}if(u.unit){i+=u.unit}return i},restricted:function(t,e,i){var n=e!==undefined?Math.max(t,e):t;n=i!==undefined?Math.min(n,i):n;return n},speedPerFrame:function(t,e){return n.isNum(t)?t/(1e3/e):0},speedPerSecond:function(t,e){return t*(1e3/e)},timeRemaining:function(t,e){return(1-t)*e},value:function(t,e,i){var n=typeof i==="number",r=n?e:0,s=n?i:e;return-t*r+t*s+r},valueEased:function(t,e,i,n){var r=n(t);return this.value(r,e,i)}}},{"./utils.js":27}],22:[function(t,e,i){"use strict";var n=t("./calc.js"),r=t("../types/bezier.js"),s=": Not defined",u="In",a="Out",o=u+a,c={ease:function(t){return Math.pow(t,2)},cubic:function(t){return Math.pow(t,3)},quart:function(t){return Math.pow(t,4)},quint:function(t){return Math.pow(t,5)},circ:function(t){return 1-Math.sin(Math.acos(t))},back:function(t){var e=1.5;return t*t*((e+1)*t-e)}},f={bounce:function(t){if(t<1/2.75){return 7.5625*t*t}else if(t<2/2.75){return 7.5625*(t-=1.5/2.75)*t+.75}else if(t<2.5/2.75){return 7.5625*(t-=2.25/2.75)*t+.9375}else{return 7.5625*(t-=2.625/2.75)*t+.984375}},swing:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},spring:function(t){return 1-Math.cos(t*4.5*Math.PI)*Math.exp(-t*6)}},l=function(){for(var t in c){if(c.hasOwnProperty(t)){this.generate(t,c[t],true)}}for(t in f){if(f.hasOwnProperty(t)){this.generate(t,f[t])}}};l.prototype={get:function(t){var e=this[t];if(!e){throw t+s}return e},addBezier:function(t,e,i,n,s){if(!this[t]){this[t]=new r(e,i,n,s)}},mirrorEasing:function(t,e){var i;if(t<=.5){i=e(2*t)/2}else{i=(2-e(2*(1-t)))/2}return i},reverseEasing:function(t,e){return 1-e(1-t)},generate:function(t,e,i){var n=this,r=t+u,s=t+a,c=t+o,f=i?r:s,l=i?s:r;this[f]=e;this[l]=function(t){return n.reverseEasing(t,n[f])};this[c]=function(t){return n.mirrorEasing(t,n[f])}},withinRange:function(t,e,i,r,s){var u=n.restricted(t,0,1);if(u!==t&&s){r="linear";u=u+n.difference(u,t)*s}return n.valueEased(u,e,i,this.get(r))},linear:function(t){return t}};e.exports=new l},{"../types/bezier.js":18,"./calc.js":21}],23:[function(t,e,i){window.redshift=t("../redshift.js")},{"../redshift.js":17}],24:[function(t,e,i){"use strict";var n=3,r=function(t,e){this.max=e||n;this.entries=[];this.add(t)};r.prototype={add:function(t){var e=this.getSize();this.entries.push(t);if(e>=this.max){this.entries.shift()}},get:function(t){t=typeof t==="number"?t:this.getSize()-1;return this.entries[t]},getPrevious:function(){var t=this.getSize()-2;return this.get(t)},getSize:function(){return this.entries.length}};e.exports=r},{}],25:[function(t,e,i){"use strict";var n=t("./utils.js");e.exports=function(t,e,i,r){var s={};if(n.isFunc(t)){t=t.call(r,e)}if(n.isRelativeValue(t)){t=calc.relativeValue(e,t)}if(n.isString(t)){s=n.splitValUnit(t);if(!isNaN(s)){t=s.value;i.unit=s.unit}}return t}},{"./utils.js":27}],26:[function(t,e,i){"use strict";var n=function(){var t=0,e=["ms","moz","webkit","o"],i=e.length;for(var n=0;n<i&&!window.requestAnimationFrame;n++){window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(e,i){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),s=window.setTimeout(function(){e(n+r)},r);t=n+r;return s}}},r=function(){if(!Array.prototype.indexOf){Array.prototype.indexOf=function(t){var e=this.length>>>0,i=Number(arguments[1])||0;i=i<0?Math.ceil(i):Math.floor(i);if(i<0){i+=e}for(;i<e;i++){if(i in this&&this[i]===t){return i}}return-1}}};e.exports=function(){n();r()}},{}],27:[function(t,e,i){"use strict";var n=t("../opts/keys.js"),r=["scope","dom"],s=function(t){return r.indexOf(t)!==-1};e.exports={hasChanged:function(t,e){var i=false;for(var n in e){if(t.hasOwnProperty(n)&&e.hasOwnProperty(n)){if(t[n]!==e[n]){i=true}}else{i=true}}return i},isNum:function(t){return typeof t==="number"},isObj:function(t){return typeof t==="object"},isFunc:function(t){return this.varType(t)==="Function"},isString:function(t){return typeof t==="string"},isRelativeValue:function(t){return t&&t.indexOf&&t.indexOf("=")>0},isArray:function(t){return this.varType(t)==="Array"},isInRange:function(t,e,i){return t>=e&&t<=i},copy:function(t){return this.isArray(t)?this.copyArray(t):this.copyObject(t)},copyObject:function(t){var e={};for(var i in t){if(t.hasOwnProperty(i)){e[i]=this.isObj(t[i])&&!s(i)?this.copy(t[i]):t[i]}}return e},copyArray:function(t){var e=[],i=t.length,n=0;for(var n=0;n<i;n++){e[n]=this.isObj(t[n])?this.copy(t[n]):t[n]}return e},merge:function(t,e){return this.isArray(t)?this.copyArray(e):this.mergeObject(t,e)},mergeObject:function(t,e){var i=this.isObj(t),n=i?this.copy(t):this.copy(e),r="";if(i){for(r in e){if(e.hasOwnProperty(r)){n[r]=this.isObj(e[r])&&!s(r)?this.merge(t[r],e[r]):e[r]}}}return n},splitValUnit:function(t){var e=t.match(/(-?\d*\.?\d*)(.*)/);return{value:parseFloat(e[1]),unit:e[2]}},stepProgress:function(t,e,i){var n=0,r=e/i;for(var s=0;s<=i;s++){n=s*r;if((s+1)*r>t){break}}return n},varType:function(t){return Object.prototype.toString.call(t).slice(8,-1)},currentTime:function(){return(new Date).getTime()}}},{"../opts/keys.js":11}]},{},[23]);