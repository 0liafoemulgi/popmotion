(function t(e,r,n){function s(u,o){if(!r[u]){if(!e[u]){var a=typeof require=="function"&&require;if(!o&&a)return a(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[u]={exports:{}};e[u][0].call(f.exports,function(t){var r=e[u][1][t];return s(r?r:t)},f,f.exports,t,e,r,n)}return r[u].exports}var i=typeof require=="function"&&require;for(var u=0;u<n.length;u++)s(n[u]);return s})({1:[function(t,e,r){"use strict";var n=t("./parse-args.js"),s=t("../types/value.js"),i=t("../types/repo.js"),u=t("./queue.js"),o=t("../process/process.js"),a=t("../opts/keys.js"),c=t("./processor.js"),f=t("./routes.js"),l=t("../opts/action.js"),p=t("../utils/calc.js"),h=t("../utils/utils.js"),d=t("../routes/css/styler.js"),v=function(t,e){return e?t+"."+e:t},m=function(){var t=this;t.values={};l.scope=this;t.props=new i(l);t.data=new i;t.process=new o(function(e,r){if(t.active){c(t,e,r)}});t.queue=new u;t.set(n.generic.apply(t,arguments))};m.prototype={progress:0,elapsed:0,inactiveFrames:0,playDirection:1,play:function(){var t=n.play.apply(this,arguments);if(!this.isActive()){this.set(t,"to")}else{this.queue.add.apply(this.queue,arguments)}return this.start(a.RUBIX.TIME)},run:function(){this.set(n.generic.apply(this,arguments));return this.start(a.RUBIX.RUN)},track:function(){this.set(n.track.apply(this,arguments));return this.start(a.RUBIX.INPUT)},fire:function(){this.set(n.generic.apply(this,arguments));return this.start(a.RUBIX.FIRE)},set:function(t,e){var r=this,n=this.props.get(),s="";e=e||"current";r.props.set(t);f.shard(function(t,i){var u={route:t.name},o={},a;for(s in i){if(i.hasOwnProperty(s)&&t.preprocess){a=i[s];if(!h.isObj(a)){o={name:s};o[e]=a}else{o=a;o.name=s}t.preprocess(s,h.merge(u,o),r,n)}}},t);if(r.getValue("angle")&&r.getValue("distance")){r.setValue("radialX",{link:a.ANGLE_DISTANCE});r.setValue("radialY",{link:a.ANGLE_DISTANCE})}r.resetOrigins();return r},resetOrigins:function(){var t=this.values,e="";for(e in t){if(t.hasOwnProperty(e)){t[e].origin=t[e].current}}},start:function(t){var e=this;e.resetProgress();if(t){e.props.set("rubix",t)}e.isActive(true);e.started=h.currentTime()+e.props.get("delay");e.framestamp=e.started;e.firstFrame=true;e.process.start();return e},stop:function(){this.queue.clear();this.pause();return this},pause:function(){var t=this,e=this.getProp("input");t.isActive(false);t.process.stop();if(e&&e.stop){e.stop()}return t},resume:function(){var t=this;t.started=h.currentTime();t.framestamp=t.started;t.isActive(true);t.process.start();return t},reset:function(){var t=this,e=t.values;t.resetProgress();for(var r in e){e[r].reset()}return t},resetProgress:function(){var t=this;t.progress=0;t.elapsed=0;t.started=h.currentTime();return t},reverse:function(){this.playDirection*=-1},flip:function(){var t=this,e=t.values;t.progress=p.difference(t.progress,1);t.elapsed=p.difference(t.elapsed,t.props.get("duration"));for(var r in e){e[r].flip()}return t},toggle:function(){if(this.isActive()){this.pause()}else{this.resume()}return this},next:function(){var t=this,e=[{key:"loop",callback:t.reset},{key:"yoyo",callback:t.reverse}],r=e.length,n=false;for(var s=0;s<r;++s){if(t.checkNextStep(e[s].key,e[s].callback)){n=true;break}}if(!n&&!t.playNext()){t.stop()}else{t.isActive(true)}return t},checkNextStep:function(t,e){var r=false,n=this.props.get(t),s=this.props.get(t+"Count"),i=n===true;if(i||h.isNum(n)){++s;this.props.set(t+"Count",s);if(i||s<=n){e.call(this);r=true}}return r},playNext:function(){var t=false,e=this.queue.next();console.log("checking");if(h.isArray(e)){console.log("test");this.set(n.generic.apply(this,e),"to").reset();t=true}return t},setValue:function(t,e,r,n){var i=this.getValue(t,n);t=v(t,n);if(i){i.set(e,r)}else{this.values[t]=new s(t,e,r,this)}return this},getValue:function(t,e){t=v(t,e);return this.values[t]},setProp:function(t,e){this.props.set(t,e);return this},getProp:function(t){return this.props.get(t)},isActive:function(t){return this.active=t!==undefined?t:this.active},updateOrder:function(t,e,r){var n=this.props.store,s,i;r=r||"order";i=n[r]=n[r]||[];s=i.indexOf(t);if(s===-1||e){i.push(t);if(s!==-1){i.splice(s,1)}}},style:function(t){var e=this.props.store.dom,r;if(e){r=d(e,t)}return r==d?this:r}};e.exports=m},{"../opts/action.js":11,"../opts/keys.js":12,"../process/process.js":16,"../routes/css/styler.js":27,"../types/repo.js":31,"../types/value.js":32,"../utils/calc.js":33,"../utils/utils.js":39,"./parse-args.js":2,"./processor.js":4,"./queue.js":5,"./routes.js":6}],2:[function(t,e,r){"use strict";var n=t("../utils/utils.js"),s=t("./presets.js"),i=t("../input/pointer.js"),u="string",o="number",a="object",c=function(){var t={},e=[],r=arguments[0],i=arguments[1],o=0,c=[].slice.call(arguments),f=0;if(typeof r==u){e=r.split(" ");o=e.length;t=s.getDefined(e[0]);if(o>1){for(;f<o;f++){c.shift();c.unshift(e[f]);this.queue.add.apply(this.queue,c)}}if(typeof i==a){t=n.merge(t,i)}}else if(typeof r==a){t=r;if(!this.isActive()){this.queue.add.apply(this.queue,c)}}return t};e.exports={play:function(){var t=c.apply(this,arguments),e=arguments.length,r=0,s,i="";t.playhead=t.loopCount=t.yoyoCount=0;for(;r<e;r++){s=arguments[r];i=typeof s;if(i==u&&r!==0){t.ease=s}else if(i==o){t.duration=s}else if(n.isFunc(s)){t.onEnd=s}}return t},track:function(){var t={},e=arguments.length,r=e-1,o=arguments[r];for(var a=0;a<r;a++){if(typeof arguments[a]===u){t=s.getDefined(arguments[a])}else{t=n.merge(t,arguments[a])}}o=!o.current?new i(o):o;t.input=o;t.inputOrigin=o.get();return t},generic:c}},{"../input/pointer.js":10,"../utils/utils.js":39,"./presets.js":3}],3:[function(t,e,r){"use strict";var n=t("../opts/keys.js"),s=t("../utils/utils.js"),i=function(t){var e=t.split(o),r=e.length,n=e[0],s=1;for(;s<r;s++){e[s]=n+=o+e[s]}return e},u={},o=".",a=function(){};a.prototype={define:function(t,e){var r={},n="";if(s.isObj(t)){r=t}else{r[t]=e}for(n in r){if(r.hasOwnProperty(n)){u[n]=r[n]}}},getDefined:function(t){var e={},r={},n=i(t),o=n.length,a=0;for(;a<o;a++){r=u[n[a]];if(r){e=s.merge(e,r)}}return e}};e.exports=new a},{"../opts/keys.js":12,"../utils/utils.js":39}],4:[function(t,e,r){"use strict";var n=t("./rubix.js"),s=t("../opts/keys.js"),i=t("./routes.js"),u=t("../utils/calc.js");e.exports=function(t,e,r){var o=t.props.store,a=t.data.store,c=t.values,f=n[o.rubix],l=f,p=false,h=0,d=o.order=o.order||[],v=d.length,m="",g,y;t.output={};if(f.updateInput){f.updateInput(t,o,e)}if(t.firstFrame){if(o.onStart){o.onStart.call(o.scope,t.output,a)}t.firstFrame=false}if(o.input){t.output.input=o.input.onFrame(e)}for(;h<v;h++){m=d[h];g=c[m];l=f;if(g.link){l=g.link!==s.ANGLE_DISTANCE?n["Link"]:n["AngleAndDistance"]}y=l.process(m,g,c,o,t,r);if(l.limit){y=l.limit(y,g)}if(g.round){y=Math.round(y)}g.velocity=u.speedPerSecond(u.difference(g.current,y),r);if(g.current!=y){p=true}g.current=y;t.output[g.route]=t.output[g.route]||{};t.output[g.route][g.name]=g.unit?y+g.unit:y}i.shard(function(e,r){if(e.onFrame){e.onFrame(r,t,c,o,a)}if(p&&e.onChange){e.onChange(r,t,c,o,a)}},t.output);if(f.hasEnded(t,p)){t.isActive(false);i.onEnd(t.output,t,c,o,a);if(!t.isActive()){t.next()}}t.framestamp=e}},{"../opts/keys.js":12,"../utils/calc.js":33,"./routes.js":6,"./rubix.js":7}],5:[function(t,e,r){"use strict";var n=function(){this.clear()};n.prototype={add:function(){this.queue.push([].slice.call(arguments))},next:function(){var t=this.queue,e=false;t.shift();if(t.length){e=t[0]}else{this.clear()}return e},clear:function(){this.queue=[]}};e.exports=n},{}],6:[function(t,e,r){"use strict";var n=t("../utils/utils.js"),s=t("../routes/values.js"),i=t("../routes/css.js"),u=t("../routes/attr.js"),o={},a=[],c,f=["preprocess","onEnd"],l=function(t){return a.indexOf(t)>-1?true:false},p=function(t){return function(e,r,n,s,i){var u="",f,l=0;for(;l<c;l++){u=a[l];f=o[u];if(e[u]&&f[t]){f[t](e[u],r,n,s,i)}}}},h={add:function(t){a.push(t.name);c=a.length;if(t.makeDefault){this.defaultRoute=this.name}o[t.name]=t},shard:function(t,e){var r="",n=0;for(;n<c;n++){r=a[n];if(e&&e[r]||!e){t(o[r],e[r])}}},getName:function(t){return t!==undefined&&l(t)?t:this.defaultRoute}};(function(){var t=f.length,e="",r=0;for(;r<t;r++){e=f[r];h[e]=p(e)}h.add(s);h.add(i);h.add(u)})();e.exports=h},{"../routes/attr.js":19,"../routes/css.js":20,"../routes/values.js":29,"../utils/utils.js":39}],7:[function(t,e,r){"use strict";var n=t("../utils/calc.js"),s=t("../utils/utils.js"),i=t("../utils/easing.js"),u=t("../opts/keys.js"),o=t("./simulate.js"),a=function(){},c;a.prototype={Fire:{process:function(t,e){return e.current},hasEnded:function(){return true}},Time:{updateInput:function(t,e,r){t.elapsed+=(r-t.framestamp)*e.dilate*t.playDirection;t.hasEnded=true},process:function(t,e,r,u,o){var a=e.current,c=n.restricted(n.progress(o.elapsed-e.delay,e.duration)-e.stagger,0,1),f=o.playDirection===1?1:0;o.hasEnded=c!==f?false:o.hasEnded;if(e.to!==undefined){c=e.steps?s.stepProgress(c,1,e.steps):c;a=i.withinRange(c,e.origin,e.to,e.ease)}return a},hasEnded:function(t){return t.hasEnded}},Input:{updateInput:function(t,e){t.inputOffset=n.offset(e.inputOrigin,e.input.current)},process:function(t,e,r,n,s){return s.inputOffset.hasOwnProperty(t)?e.origin+s.inputOffset[t]:e.current},hasEnded:function(){return false}},Run:{process:function(t,e,r,s,i,u){return e.current+n.speedPerFrame(o[e.simulate](e,u),u)},hasEnded:function(t,e){t.inactiveFrames=e?0:t.inactiveFrames+1;return t.inactiveFrames>3},limit:function(t,e){t=n.restricted(t,e.min,e.max);e.velocity=e.bounce&&(t<=e.min||t>=e.max)?o.bounce(e):e.velocity;return t}},Link:{process:function(t,e,r,s,i){var u=e.current,o=e.mapLink,a=e.mapTo,c=o!==undefined?o.length:0,u;if(r[e.link]){u=r[e.link].current}else if(i.inputOffset&&i.inputOffset.hasOwnProperty(e.link)){u=e.origin+i.inputOffset[e.link]}for(var f=1;f<c;f++){if(u<o[f]||f===c-1){u=n.value(n.restricted(n.progress(u,o[f-1],o[f]),0,1),a[f-1],a[f]);break}}return u}},AngleAndDistance:{process:function(t,e,r,s,i){var u={x:r.x?r.x.store.current:0,y:r.y?r.y.store.current:0},o=n.pointFromAngleAndDistance(u,r.angle.store.current,r.distance.store.current),a={radialX:o.x,radialY:o.y};return a[t]}}};c=new a;e.exports=c},{"../opts/keys.js":12,"../utils/calc.js":33,"../utils/easing.js":34,"../utils/utils.js":39,"./simulate.js":8}],8:[function(t,e,r){"use strict";var n=.2,s=t("../utils/calc.js"),i=s.speedPerFrame,u=function(){},o;u.prototype={velocity:function(t,e){return t.velocity-i(t.deceleration,e)+i(t.acceleration,e)},gravity:function(t,e){return t.velocity+i(t.gravity,e)},friction:function(t,e){var r=i(t.velocity,e)*(1-t.friction);return r<n&&r>-n?0:s.speedPerSecond(r,e)},spring:function(t,e){var r=t.to-t.current,n=r*i(t.spring,e);t.velocity+=n;return this.friction(t,e)},bounce:function(t){return t.velocity*=-t.bounce}};o=new u;e.exports=o},{"../utils/calc.js":33}],9:[function(t,e,r){"use strict";var n=t("../utils/calc.js"),s=t("../utils/utils.js"),i=t("../utils/history.js"),u=function(){var t=arguments.length-1;this.current={};this.offset={};this.velocity={};this.history=new i;this.update(arguments[0],arguments[1]);if(s.isFunc(arguments[t])){this.poll=arguments[t]}};u.prototype={maxInactiveFrames:2,inactiveFrames:0,get:function(t){var e=this.history.get(),r=t!==undefined?e[t]:e;return r},update:function(){var t={};if(s.isNum(arguments[1])){t[arguments[0]]=arguments[1]}else{t=arguments[0]}this.history.add(s.merge(this.current,t));return this},onFrame:function(t){var e,r;if(t===this.lastFrame){return}e=this.poll?this.poll():this.history.get();r=s.hasChanged(this.current,e);if(r){this.velocity=n.offset(this.current,e);this.current=e;this.inactiveFrames=0}else if(this.inactiveFrames>=this.maxInactiveFrames){this.velocity=n.offset(this.current,this.current)}else{this.inactiveFrames++}this.lastFrame=t;return this}};e.exports=u},{"../utils/calc.js":33,"../utils/history.js":36,"../utils/utils.js":39}],10:[function(t,e,r){"use strict";var n=t("./input.js"),s=t("../opts/keys.js"),i,u=function(t,e){var r=e?t.changedTouches[0]:false;return{x:r?r.clientX:t.screenX,y:r?r.clientY:t.screenY}},o=function(t){return t.originalEvent||t},a=function(t){var e=o(t),r=e.touches?true:false,n=u(e,r);this.update(n);this.isTouch=r;this.bindEvents()};a.prototype=new n;a.prototype.bindEvents=function(t){this.moveEvent=this.isTouch?s.EVENT.TOUCHMOVE:s.EVENT.MOUSEMOVE;i=this;document.documentElement.addEventListener(this.moveEvent,this.onMove)};a.prototype.unbindEvents=function(){document.documentElement.removeEventListener(this.moveEvent,this.onMove)};a.prototype.onMove=function(t){var e=u(t,i.isTouch);t=o(t);t.preventDefault();i.update(e)};a.prototype.stop=function(){this.unbindEvents()};e.exports=a},{"../opts/keys.js":12,"./input.js":9}],11:[function(t,e,r){"use strict";var n=t("../action/rubix.js");e.exports={active:false,rubix:"Time",amp:1,escapeAmp:0,delay:0,duration:400,ease:"easeInOut",dilate:1,loopCount:0,yoyoCount:0}},{"../action/rubix.js":7}],12:[function(t,e,r){"use strict";e.exports={REDSHIFT:"redshift",ANGLE_DISTANCE:"angle distance",RUBIX:{INPUT:"Input",TIME:"Time",RUN:"Run",FIRE:"Fire"},EVENT:{MOUSE:"mouse",MOUSEMOVE:"mousemove",TOUCH:"touch",TOUCHMOVE:"touchmove"}}},{}],13:[function(t,e,r){"use strict";e.exports={current:0,start:0,to:undefined,min:undefined,max:undefined,origin:0,hasRange:false,round:false,route:"values",name:"",unit:undefined,parent:"",unitName:"",link:undefined,mapLink:undefined,mapTo:undefined,simulate:"velocity",velocity:0,deceleration:0,acceleration:0,gravity:30,bounce:0,friction:0,spring:.03,duration:400,delay:0,stagger:0,ease:"easeInOut",steps:0,escapeAmp:0}},{}],14:[function(t,e,r){"use strict";var n=t("./timer.js"),s=function(){this.timer=new n},i;s.prototype={isRunning:false,frame:function(){var t=this;requestAnimationFrame(function(e){var r=t.timer.update(),n=t.callback.call(t.scope,r,t.timer.getElapsed());if(n){t.frame(true)}else{t.stop()}})},start:function(){if(!this.isRunning){this.isRunning=true;this.frame()}},stop:function(){this.isRunning=false},setCallback:function(t,e){this.scope=t;this.callback=e}};e.exports=new s},{"./timer.js":17}],15:[function(t,e,r){"use strict";var n=t("./loop.js"),s=function(){this.all={};this.active=[];this.deactivateQueue=[];n.setCallback(this,this.fireActive)};s.prototype={processCounter:0,activeCount:0,getProcess:function(t){return this.all[t]},getActiveCount:function(){return this.activeCount},getActive:function(){return this.active},getQueueLength:function(){return this.deactivateQueue.length},fireActive:function(t,e){var r,n=0,s=[];this.purge();n=this.getActiveCount();s=this.getActive();for(var i=0;i<n;i++){r=this.getProcess(s[i]);if(r){r.fire(t,e)}}this.purge();n=this.getActiveCount();return n?true:false},register:function(t){var e=this.processCounter;this.all[e]=t;this.processCounter++;return e},activate:function(t){var e=this.deactivateQueue.indexOf(t),r=e>-1,s=this.active.indexOf(t)>-1;if(r){this.deactivateQueue.splice(e,1)}if(!s){this.active.push(t);this.activeCount++;n.start(this)}},deactivate:function(t){this.deactivateQueue.push(t)},purge:function(){var t,e=this.getQueueLength();while(e--){t=this.active.indexOf(this.deactivateQueue[e]);if(t>-1){this.active.splice(t,1);this.activeCount--}}this.deactivateQueue=[]},kill:function(t){delete this.all[t]}};e.exports=new s},{"./loop.js":14}],16:[function(t,e,r){"use strict";var n=t("./manager.js"),s=function(){var t=arguments[1]!==undefined,e=t?arguments[1]:arguments[0],r=t?arguments[0]:this;this.setCallback(e);this.setScope(r);this.setId(n.register(this))};s.prototype={isActive:false,isKilled:false,fire:function(t,e){if(this.isActive){this.callback.call(this.scope,t,e)}if(this.isInterval){this.deactivate()}},setCallback:function(t){this.callback=t;return this},setScope:function(t){this.scope=t;return this},start:function(t){var e=this;e.reset();e.activate();if(t){e.stopTimer=setTimeout(function(){e.stop()},t)}return e},stop:function(){this.reset();this.deactivate();return this},activate:function(){if(!this.isKilled){this.isActive=true;n.activate(this.id)}return this},deactivate:function(){this.isActive=false;n.deactivate(this.id);return this},every:function(t){var e=this;this.reset();this.isInterval=true;this.intervalTimer=setInterval(function(){e.activate()},t)},reset:function(){this.isInterval=false;clearTimeout(this.stopTimer);clearInterval(this.intervalTimer);return this},kill:function(){this.stop();this.isKilled=true;n.kill(this.id)},setId:function(t){this.id=t}};e.exports=s},{"./manager.js":15}],17:[function(t,e,r){"use strict";var n=30,s=function(){this.update()};s.prototype={update:function(){this.prev=this.current;return this.current=(new Date).getTime()},getElapsed:function(){return Math.min(this.current-this.prev,n)}};e.exports=s},{}],18:[function(t,e,r){"use strict";var n=t("./action/action.js"),s=t("./input/input.js"),i=t("./process/process.js"),u=t("./action/presets.js"),o=t("./utils/easing.js"),a=t("./utils/calc.js");t("./utils/shim.js")();e.exports={newAction:function(){return new n(arguments[0],arguments[1])},newInput:function(){return new s(arguments[0],arguments[1])},newProcess:function(){return new i(arguments[0],arguments[1])},addPreset:function(){u.define.apply(u,arguments);return this},addBezier:function(){o.addBezier.apply(o,arguments);return this},addRoute:function(){route.add.apply(route,arguments);return this},calc:a}},{"./action/action.js":1,"./action/presets.js":3,"./input/input.js":9,"./process/process.js":16,"./utils/calc.js":33,"./utils/easing.js":34,"./utils/shim.js":38}],19:[function(t,e,r){"use strict";e.exports={name:"attr",preprocess:function(t,e,r,n){r.setValue(t,e,n,this.name)},onChange:function(t,e,r,n){var s=n.dom;if(s){for(var i in t){s.setAttribute(i,t[i])}}}}},{}],20:[function(t,e,r){"use strict";var n=t("./css/build.js"),s=t("./css/split.js"),i="cssOrder";e.exports={name:"css",preprocess:function(t,e,r,n){var u=s(t,e);r.updateOrder(t,false,i);for(t in u){r.setValue(t,u[t],n,this.name)}},onChange:function(t,e,r,s){e.style(n(t,s[i],s.css,r))}}},{"./css/build.js":21,"./css/split.js":25}],21:[function(t,e,r){"use strict";var n=t("./dictionary.js"),s=t("./templates.js"),i=t("./lookup.js"),u="transform",o=function(t,e){var r=s[i[t]];return r?r(t,e):e[t]};e.exports=function(t,e,r){var s={},i=e.length,a=n.transformProps,c=0,f="",l="",p="";for(;c<i;c++){l=e[c],f=o(l,t);if(a[l]){p+=l+"("+f+") "}else if(r[l]!==f){s[l]=f;r[l]=f}}if(p!=r[u]){s[u]=r[u]=p}return s}},{"./dictionary.js":23,"./lookup.js":24,"./templates.js":28}],22:[function(t,e,r){"use strict";var n=t("./dictionary.js"),s={start:255,min:0,max:255,round:true},i={start:1,min:0,max:1},u={start:1},o={unit:"deg"},a={base:{unit:"px"},color:s,Red:s,Green:s,Blue:s,Alpha:i,scale:u,scaleX:u,scaleY:u,scaleZ:u,skew:o,skewX:o,skewY:o,rotate:o,rotateX:o,rotateY:o,rotateZ:o};e.exports=a},{"./dictionary.js":23}],23:[function(t,e,r){"use strict";var n=t("./lookup.js"),s="X",i="Y",u="transformPerspective",o="scale",a="rotate",c={colors:["Red","Green","Blue","Alpha"],positions:[s,i,"Z"],dimensions:["Top","Right","Bottom","Left"],shadow:[s,i,"Radius","Spread","Color"],transform:["translate",o,a,"skew",u],valueProps:["current","to","start","min","max"],transformProps:{}};(function(){var t=c.transform,e=c.transformProps,r=t.length,s=0,i=function(t){var r=n[t],s=c[r],i=0;if(s){for(;i<s.length;i++){e[t+s[i]]=true}}};e[a]=e[o]=e[u]=true;for(;s<r;s++){i(t[s])}})();e.exports=c},{"./lookup.js":24}],24:[function(t,e,r){"use strict";var n="array",s="colors",i="positions",u="dimensions",o="shadow",a="transform";e.exports={color:s,backgroundColor:s,borderColor:s,borderTopColor:s,borderRightColor:s,borderBottomColor:s,borderLeftColor:s,outlineColor:s,margin:u,padding:u,backgroundPosition:i,perspectiveOrigin:i,transformOrigin:i,skew:i,translate:i,rotate:i,scale:i,textShadow:o,boxShadow:o}},{}],25:[function(t,e,r){"use strict";var n=t("./default-property.js"),s=t("./dictionary.js"),i=t("./lookup.js"),u=t("./splitters.js"),o=t("../../utils/resolve.js"),a=t("../../utils/utils.js"),c=s.valueProps,f=c.length,l=function(t,e,r,s,i){var u=n[e+r]||n[r]||n[e]||n.base;i=i||c[0];if(s){u=a.merge(s,u)}if(a.isObj(t)){u=a.merge(u,t)}else{u[i]=t}u.name=r?e+r:e;return u},p=function(t,e,r){var n={},s={},i={},o="",p="",h=0;if(a.isObj(e)){for(;h<f;h++){o=c[h];if(e.hasOwnProperty(o)){s=u[r](e[o]);for(p in s){n[p]=n[p]||{};n[p][o]=s[p]}}}}else{n=u[r](e)}for(p in n){i[t+p]=l(n[p],t,p,e)}return i};e.exports=function(t,e){var r=i[t],n=r?p(t,e,r):{};if(!r){n[t]=l(e,t)}return n}},{"../../utils/resolve.js":37,"../../utils/utils.js":39,"./default-property.js":22,"./dictionary.js":23,"./lookup.js":24,"./splitters.js":26}],26:[function(t,e,r){"use strict";var n=t("./dictionary.js"),s=t("../../utils/utils.js"),i=function(t){return s.isString(t)?t.split(/,\s*/):[t]},u=function(t){return s.isString(t)?t.split(" "):[t]},o=function(t){return t.substring(t.indexOf("(")+1,t.lastIndexOf(")"))},a=function(t){var e=[],r,n,s;if(t.length>4){r=t.substr(1,2);n=t.substr(3,2);s=t.substr(5,2)}else{r=t.substr(1,1);n=t.substr(2,1);s=t.substr(3,1);r+=r;n+=n;s+=s}return[parseInt(r,16),parseInt(n,16),parseInt(s,16),1]},c=function(t){return t.indexOf("#")>-1||t.indexOf("rgb")>-1},f={array:function(t){var e=t.indexOf(",")>-1?i(t):u(t),r=e.length,n=0,s={};for(;n<r;n++){s[n]=e[n]}return s},colors:function(t){var e=t.indexOf("#")>-1?a(t):i(o(t)),r=e.length,s=n.colors,u=0,c={};for(;u<r;u++){c[s[u]]=e[u]}return c},dimensions:function(t){var e=u(t),r=e.length,s=n.dimensions,i=r!==1?2:1,o,a=o=0,c={};for(;o<4;o++){c[s[o]]=e[a];a++;a=a===r?a-i:a}return c},positions:function(t){var e=u(t),r=e.length,n=0,s={X:e[0],Y:r>1?e[1]:e[0]};if(r>2){s.Z=e[2]}return s},shadow:function(t){var e=u(t),r=e.length,s=n.shadow,i,o="",a,l,p=0,h,d={};for(;p<r;p++){a=e[p];if(i||c(a)){i=true;o+=a}else{d[s[p]]=a}}l=f.colors(o);for(var h in l){d[h]=l[h]}return d},perspective:function(t){return this.array(t)},translate:function(t){return this.positions}};e.exports=f},{"../../utils/utils.js":39,"./dictionary.js":23}],27:[function(t,e,r){"use strict";var n=function(){var t=document.getElementsByTagName("body")[0],e=["Webkit","Moz","O","ms",""],r=e.length,n="",s={},i=function(n){s[n]=n;for(var i=0;i<r;i++){var u=e[i]+n.charAt(0).toUpperCase()+n.slice(1);if(t.style.hasOwnProperty(u)){s[n]=u}}return s[n]};return function(t,e){if(typeof e==="string"){return window.getComputedStyle(t,null)[s[e]||i(e)]}else{for(var r in e){if(e.hasOwnProperty(r)){t.style[s[r]||i(r)]=e[r]}}return this}}};e.exports=new n},{}],28:[function(t,e,r){"use strict";var n=t("./dictionary.js"),s={Alpha:1},i=function(t,e){return e+"("+t+")"},u=function(t,e,r){return a(t,e,r," ")},o=function(t,e,r){return a(t,e,r,", ").slice(0,-2)},a=function(t,e,r,n){var i="",u="",o=r.length;for(var a=0;a<o;a++){u=t+r[a];if(e[u]!==undefined){i+=e[u]}else{if(s[r[a]]!==undefined){i+=s[r[a]]}}i+=n}return i},c={colors:function(t,e){return i(o(t,e,n.colors),"rgba")},dimensions:function(t,e){return u(t,e,n.dimensions)},positions:function(t,e){return u(t,e,n.positions)},shadow:function(t,e){var r=n.shadow.slice(0,4);return u(t,e,r)+c.colors(t,e)}};e.exports=c},{"./dictionary.js":23}],29:[function(t,e,r){"use strict";var n=function(t,e,r,n,s,i){if(s[t]){s[t].call(s.scope,e,i)}};e.exports={makeDefault:true,name:"values",preprocess:function(t,e,r,n){r.setValue(t,e,n)},onFrame:function(t,e,r,s,i){n("onFrame",t,e,r,s,i)},onChange:function(t,e,r,s,i){n("onChange",t,e,r,s,i)},onEnd:function(t,e,r,s,i){n("onEnd",t,e,r,s,i)}}},{}],30:[function(t,e,r){(function(t){"use strict";var r=8,n=.001,s=1e-7,i=10,u=11,o=1/(u-1),a="Float32Array"in t,c=function(t,e){return 1-3*e+3*t},f=function(t,e){return 3*e-6*t},l=function(t){return 3*t},p=function(t,e,r){return 3*c(e,r)*t*t+2*f(e,r)*t+l(e)},h=function(t,e,r){return((c(e,r)*t+f(e,r))*t+l(e))*t},d=function(t,e,s,i){var c=a?new Float32Array(u):new Array(u),f=false,l=function(e,n){var i=0,u=0,o;for(;i<r;++i){u=p(n,t,s);if(u===0){return n}o=h(n,t,s)-e;n-=o/u}return n},d=function(){var e=0;for(;e<r;++e){c[e]=h(e*o,t,s)}},v=function(e){var r=0,i=1,a=u-1,f=0,h=0,d=0;for(;i!=a&&c[i]<=e;++i){r+=o}--i;f=(e-c[i])/(c[i+1]-c[i]);h=r+f*o;d=p(h,t,s);if(d>=n){return l(e,h)}else if(d===0){return h}else{return binarySubdivide(e,r,r+o)}},m=function(){f=true;if(t!=e||s!=i){d()}},g=function(r){var n;if(!f){m()}if(t===e&&s===i){n=r}else if(r===0){n=0}else if(r===1){n=1}else{n=h(v(r),e,i)}return n};return g};e.exports=d}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],31:[function(t,e,r){"use strict";var n=t("../utils/utils.js"),s=t("../routes/css/dictionary.js"),i=s.valueProps,u=function(){this.store={};this.set.apply(this,arguments)};u.prototype={get:function(){var t=arguments;return t.length?this.store[t[0]]:this.store},set:function(t){if(n.isObj(t)){for(var e in t){if(t.hasOwnProperty(e)){this.store[e]=i.indexOf(e)>-1?parseFloat(t[e]):t[e]}}}else if(t!==undefined){this.store[t]=i.indexOf(t)>-1?parseFloat(arguments[1]):arguments[1]}return this}};e.exports=u},{"../routes/css/dictionary.js":23,"../utils/utils.js":39}],32:[function(t,e,r){"use strict";var n=t("../opts/values.js"),s=t("../utils/resolve.js"),i=t("../utils/utils.js"),u="current",o="origin",a=[u,o,"to","start"],c=function(){var t={};if(arguments.length===1){t[u]=arguments[0]}else{t[arguments[0]]=arguments[1]}return t},f=function(t,e,r,n){this.key=t;this.scope=n;if(e.start){e.current=e.start}this.set(e,r)};f.prototype={set:function(){var t=this,e=arguments,r=i.isObj(e[0]),u=r?e[0]:c.apply(t,e),o,f=r?e[1]:false,l="";for(l in n){o=undefined;if(f&&f.hasOwnProperty(l)){o=f[l]}if(u.hasOwnProperty(l)){o=u[l]}if(o!==undefined){t[l]=s(o,t[l],t,t.scope);if(a.indexOf(l)>-1){t[l]=parseFloat(t[l])}}else if(t[l]===undefined){t[l]=n[l]}}t.hasRange=i.isNum(t.min)&&i.isNum(t.max)?true:false;t.scope.updateOrder(t.key,i.isString(t.link));return t},reset:function(){return this.set(u,this[o])},flip:function(){var t=this[o],e=this.to!==undefined?this.to:this[u];return this.set({to:t,origin:e})}};e.exports=f},{"../opts/values.js":13,"../utils/resolve.js":37,"../utils/utils.js":39}],33:[function(t,e,r){"use strict";var n=t("./utils.js"),s={angle:function(t,e){var r=e?t:{x:0,y:0},n=e||t,s={x:u(r.x,n.x),y:u(r.y,n.y)};return this.angleFromCenter(s.x,s.y)},angleFromCenter:function(t,e){return Math.atan2(e,t)},degreesToRadians:function(t){return t*Math.PI/180},difference:function(t,e){return e-t},dilate:function(t,e,r){return t+(e-t)*r},distance:function(t,e){return typeof t==="number"?this.distance1D(t,e):this.distance2D(t,e)},distance1D:function(t,e){var r=typeof e==="number",n=r?t:0,s=r?e:t;return o(u(n,s))},distance2D:function(t,e){var r=typeof e==="object",n=r?t:{x:0,y:0},s=r?e:t,i={x:o(u(n.x,s.x)),y:o(u(n.y,s.y))};return this.hypotenuse(i.x,i.y)},hypotenuse:function(t,e){var r=t*t,n=e*e,s=r+n;return Math.sqrt(s)},offset:function(t,e){var r={},n,s;for(var o in e){if(e.hasOwnProperty(o)){if(t.hasOwnProperty(o)){r[o]=u(t[o],e[o])}else{r[o]=0}}}if(i(r.x)&&i(r.y)){r.angle=this.angle(t,e);r.distance=this.distance2D(t,e)}return r},pointFromAngleAndDistance:function(t,e,r){var n={};n.x=r*Math.cos(e)+t.x;n.y=r*Math.sin(e)+t.y;return n},progress:function(t,e,r){var n=typeof r==="number",s=n?e:0,i=n?r:e,o=u(s,i),a=(t-s)/o;return a},radiansToDegrees:function(t){return t*180/Math.PI},random:function(t,e){t=i(t)?t:0;e=i(e)?e:1;return Math.random()*(e-t)+t},relativeValue:function(t,e){var r=t,s=e.split("="),i=s[0],u=n.splitValUnit(s[1]);switch(i){case"+":r+=u.value;break;case"-":r-=u.value;break;case"*":r*=u.value;break;case"/":r/=u.value;break}if(u.unit){r+=u.unit}return r},restricted:function(t,e,r){var n=e!==undefined?Math.max(t,e):t;n=r!==undefined?Math.min(n,r):n;return n},speedPerFrame:function(t,e){return i(t)?t/(1e3/e):0},speedPerSecond:function(t,e){return t*(1e3/e)},timeRemaining:function(t,e){return(1-t)*e},value:function(t,e,r){var n=typeof r==="number",s=n?e:0,i=n?r:e;return-t*s+t*i+s},valueEased:function(t,e,r,n){var s=n(t);return this.value(s,e,r)}},i=n.isNum,u=s.difference,o=Math.abs;e.exports=s},{"./utils.js":39}],34:[function(t,e,r){"use strict";var n=t("./calc.js"),s=t("../types/bezier.js"),i=": Not defined",u="In",o="Out",a=u+o,c=["ease","cubic","quart","quint"],f=function(t){return function(e){return Math.pow(e,t)}},l={circ:function(t){return 1-Math.sin(Math.acos(t))},back:function(t){var e=1.5;return t*t*((e+1)*t-e)}},p=function(t,e){var r;if(t<=.5){r=e(2*t)/2}else{r=(2-e(2*(1-t)))/2}return r},h=function(t,e){return 1-e(1-t)},d=function(t,e,r){var n=t+u,s=t+o,i=t+a,c=r?n:s,f=r?s:n;v[c]=e;v[f]=function(t){return h(t,self[c])};v[i]=function(t){return p(t,self[c])}},v={get:function(t){var e=this[t];if(!e){throw t+i}return e},addBezier:function(t,e,r,n,i){if(!this[t]){this[t]=new s(e,r,n,i)}},withinRange:function(t,e,r,s,i){var u=n.restricted(t,0,1);if(u!==t&&i){s="linear";u=u+n.difference(u,t)*i}return n.valueEased(u,e,r,this.get(s))},linear:function(t){return t}};(function(){var t=0,e="";for(;t<4;t++){l[c[t]]=f(t+2)}for(e in l){if(l.hasOwnProperty(e)){d(e,l[e],true)}}})();e.exports=v},{"../types/bezier.js":30,"./calc.js":33}],35:[function(t,e,r){window.redshift=t("../redshift.js")},{"../redshift.js":18}],36:[function(t,e,r){"use strict";var n=3,s=function(t,e){this.max=e||n;this.entries=[];this.add(t)};s.prototype={add:function(t){var e=this.getSize();this.entries.push(t);if(e>=this.max){this.entries.shift()}},get:function(t){t=typeof t==="number"?t:this.getSize()-1;return this.entries[t]},getPrevious:function(){var t=this.getSize()-2;return this.get(t)},getSize:function(){return this.entries.length}};e.exports=s},{}],37:[function(t,e,r){"use strict";var n=t("./calc.js"),s=t("./utils.js");e.exports=function(t,e,r,i){var u={};e=e||0;if(typeof t=="function"){t=t.call(i,e)}if(t.indexOf&&t.indexOf("=")>0){t=n.relativeValue(e,t)}if(typeof t==="string"){u=s.splitValUnit(t);if(!isNaN(u.value)){t=u.value;r.unit=u.unit}}return t}},{"./calc.js":33,"./utils.js":39}],38:[function(t,e,r){"use strict";var n=function(){var t=0,e=["ms","moz","webkit","o"],r=e.length;for(var n=0;n<r&&!window.requestAnimationFrame;n++){window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(e,r){var n=(new Date).getTime(),s=Math.max(0,16-(n-t)),i=window.setTimeout(function(){e(n+s)},s);t=n+s;return i}}},s=function(){if(!Array.prototype.indexOf){Array.prototype.indexOf=function(t){var e=this.length>>>0,r=Number(arguments[1])||0;r=r<0?Math.ceil(r):Math.floor(r);if(r<0){r+=e}for(;r<e;r++){if(r in this&&this[r]===t){return r}}return-1}}};e.exports=function(){n();s()}},{}],39:[function(t,e,r){"use strict";var n=t("../opts/keys.js"),s=["scope","dom"],i=function(t){return s.indexOf(t)!==-1};e.exports={hasChanged:function(t,e){var r=false;for(var n in e){if(t.hasOwnProperty(n)&&e.hasOwnProperty(n)){if(t[n]!==e[n]){r=true}}else{r=true}}return r},isNum:function(t){return typeof t==="number"},isObj:function(t){return typeof t==="object"},isFunc:function(t){return this.varType(t)==="Function"},isString:function(t){return typeof t==="string"},isRelativeValue:function(t){return t&&t.indexOf&&t.indexOf("=")>0},isArray:function(t){return this.varType(t)==="Array"},isInRange:function(t,e,r){return t>=e&&t<=r},copy:function(t){return this.isArray(t)?this.copyArray(t):this.copyObject(t)},copyObject:function(t){var e={};for(var r in t){if(t.hasOwnProperty(r)){e[r]=this.isObj(t[r])&&!i(r)?this.copy(t[r]):t[r]}}return e},copyArray:function(t){var e=[],r=t.length,n=0;for(var n=0;n<r;n++){e[n]=this.isObj(t[n])?this.copy(t[n]):t[n]}return e},merge:function(t,e){return this.isArray(t)?this.copyArray(e):this.mergeObject(t,e)},mergeObject:function(t,e){var r=this.isObj(t),n=r?this.copy(t):this.copy(e),s="";if(r){for(s in e){if(e.hasOwnProperty(s)){n[s]=this.isObj(e[s])&&!i(s)?this.merge(t[s],e[s]):e[s]}}}return n},splitValUnit:function(t){var e=t.match(/(-?\d*\.?\d*)(.*)/);return{value:parseFloat(e[1]),unit:e[2]}},stepProgress:function(t,e,r){var n=0,s=e/r;for(var i=0;i<=r;i++){n=i*s;
if((i+1)*s>t){break}}return n},varType:function(t){return Object.prototype.toString.call(t).slice(8,-1)},currentTime:function(){return(new Date).getTime()}}},{"../opts/keys.js":12}]},{},[35]);