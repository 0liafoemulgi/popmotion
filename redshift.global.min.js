(function t(e,n,i){function r(u,o){if(!n[u]){if(!e[u]){var a=typeof require=="function"&&require;if(!o&&a)return a(u,!0);if(s)return s(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[u]={exports:{}};e[u][0].call(f.exports,function(t){var n=e[u][1][t];return r(n?n:t)},f,f.exports,t,e,n,i)}return n[u].exports}var s=typeof require=="function"&&require;for(var u=0;u<i.length;u++)r(i[u]);return r})({1:[function(t,e,n){"use strict";var i=t("./shim.js"),r=t("./process.js"),s=function(){i.featureCheck()};s.prototype={newProcess:function(){return new r(arguments[0],arguments[1])}};e.exports=new s},{"./process.js":4,"./shim.js":5}],2:[function(t,e,n){"use strict";var i=t("./timer.js"),r=function(){this.timer=new i},s;r.prototype={isRunning:false,frame:function(){var t=this;requestAnimationFrame(function(){var e=t.timer.update(),n=t.callback.call(t.scope,e,t.timer.getElapsed());if(n){t.frame(true)}else{t.stop()}})},start:function(){if(!this.isRunning){this.isRunning=true;this.frame()}},stop:function(){this.isRunning=false},setCallback:function(t,e){this.scope=t;this.callback=e}};e.exports=new r},{"./timer.js":6}],3:[function(t,e,n){"use strict";var i=t("./loop.js"),r=function(){this.all={};this.active=[];this.deactivateQueue=[];i.setCallback(this,this.fireActive)};r.prototype={processCounter:0,activeCount:0,getProcess:function(t){return this.all[t]},getActiveCount:function(){return this.activeCount},getActive:function(){return this.active},getQueueLength:function(){return this.deactivateQueue.length},fireActive:function(t,e){var n,i=0,r=[];this.purge();i=this.getActiveCount();r=this.getActive();for(var s=0;s<i;s++){n=this.getProcess(r[s]);if(n){n.fire(t,e)}}this.purge();i=this.getActiveCount();return i?true:false},register:function(t){var e=this.processCounter;this.all[e]=t;this.processCounter++;return e},activate:function(t){var e=this.deactivateQueue.indexOf(t),n=e>-1,r=this.active.indexOf(t)>-1;if(n){this.deactivateQueue.splice(e,1)}if(!r){this.active.push(t);this.activeCount++;i.start(this)}},deactivate:function(t){this.deactivateQueue.push(t)},purge:function(){var t,e=this.getQueueLength();while(e--){t=this.active.indexOf(this.deactivateQueue[e]);if(t>-1){this.active.splice(t,1);this.activeCount--}}this.deactivateQueue=[]},kill:function(t){delete this.all[t]}};e.exports=new r},{"./loop.js":2}],4:[function(t,e,n){"use strict";var i=t("./manager.js"),r=function(){var t=arguments[1]!==undefined,e=t?arguments[1]:arguments[0],n=t?arguments[0]:this;this.setCallback(e);this.setScope(n);this.setId(i.register(this))};r.prototype={isActive:false,isKilled:false,fire:function(t,e){if(this.isActive){this.callback.call(this.scope,t,e)}if(this.isInterval){this.deactivate()}},setCallback:function(t){this.callback=t;return this},setScope:function(t){this.scope=t;return this},start:function(t){var e=this;e.reset();e.activate();if(t){e.stopTimer=setTimeout(function(){e.stop()},t)}return e},stop:function(){this.reset();this.deactivate();return this},activate:function(){if(!this.isKilled){this.isActive=true;i.activate(this.id)}return this},deactivate:function(){this.isActive=false;i.deactivate(this.id);return this},every:function(t){var e=this;this.reset();this.isInterval=true;this.intervalTimer=setInterval(function(){e.activate()},t)},reset:function(){this.isInterval=false;clearTimeout(this.stopTimer);clearInterval(this.intervalTimer);return this},kill:function(){this.stop();this.isKilled=true;i.kill(this.id)},setId:function(t){this.id=t}};e.exports=r},{"./manager.js":3}],5:[function(t,e,n){"use strict";var i=function(){var t=0,e=["ms","moz","webkit","o"],n=e.length;for(var i=0;i<n&&!window.requestAnimationFrame;i++){window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(e,n){var i=(new Date).getTime(),r=Math.max(0,16-(i-t)),s=window.setTimeout(function(){e(i+r)},r);t=i+r;return s}}},r=function(){if(!Array.prototype.indexOf){Array.prototype.indexOf=function(t){var e=this.length>>>0,n=Number(arguments[1])||0;n=n<0?Math.ceil(n):Math.floor(n);if(n<0){n+=e}for(;n<e;n++){if(n in this&&this[n]===t){return n}}return-1}}};e.exports={featureCheck:function(){i();r()}}},{}],6:[function(t,e,n){"use strict";var i=30,r=function(){this.update()};r.prototype={update:function(){this.prev=this.current;return this.current=(new Date).getTime()},getElapsed:function(){return Math.min(this.current-this.prev,i)}};e.exports=r},{}],7:[function(t,e,n){"use strict";var i=t("cycl"),r=t("./processor.js"),s=t("./presets.js"),u=t("../input/pointer.js"),o=t("../opts/keys.js"),a=t("../opts/action.js"),c=t("../opts/value.js"),f=t("../utils/calc.js"),l=t("../utils/utils.js"),p=t("../types/value.js"),h=t("../types/repo.js"),d=function(t,e){var n=this;n.values=new h;a.scope=this;n.props=new h(a);n.data=new h;n.process=i.newProcess(function(t,e){if(n.active){r(n,t,e)}});n.set(t,e)};d.prototype={progress:0,elapsed:0,inactiveFrames:0,play:function(t,e){this.set(t,e);this.props.set({playhead:0,loopCount:0,yoyoCount:0});return this.start(o.RUBIX.TIME)},run:function(t,e){this.set(t,e);return this.start(o.RUBIX.RUN)},track:function(){var t=arguments,e=t.length,n,i,r;for(var s=e-1;s>=0;s--){if(t[s]!==undefined){if(r===undefined){r=t[s]}else if(s===1){i=t[s]}else if(s===0){n=t[s]}}}if(!r.current){r=new u(r)}this.set(n,i,r);return this.start(o.RUBIX.INPUT)},start:function(t){var e=this;e.resetProgress();if(t){e.props.set("rubix",t)}e.isActive(true);e.started=l.currentTime()+e.props.get("delay");e.framestamp=e.started;e.firstFrame=true;e.process.start();return e},stop:function(){var t=this,e=this.getProp("input");t.isActive(false);t.process.stop();if(e&&e.stop){e.stop()}return t},pause:function(){this.stop();return this},resume:function(){var t=this;t.started=l.currentTime();t.framestamp=t.started;t.isActive(true);t.process.start();return t},reset:function(){var t=this,e=t.values.get();t.resetProgress();for(var n in e){e[n].reset()}return t},resetProgress:function(){var t=this;t.progress=0;t.elapsed=0;t.started=l.currentTime();return t},reverse:function(){var t=this,e=t.values.get();t.progress=f.difference(t.progress,1);t.elapsed=f.difference(t.elapsed,t.props.get("duration"));for(var n in e){e[n].reverse()}return t},toggle:function(){if(this.isActive()){this.pause()}else{this.resume()}},next:function(){var t=this,e=[{key:"loop",callback:t.reset},{key:"yoyo",callback:t.reverse}],n=e.length,i=false;for(var r=0;r<n;++r){if(t.checkNextStep(e[r].key,e[r].callback)){i=true;break}}if(!i&&!t.playNext()){t.stop()}else{t.isActive(true)}return t},checkNextStep:function(t,e){var n=false,i=this.props.get(t),r=this.props.get(t+"Count"),s=i===true;if(s||l.isNum(i)){++r;this.props.set(t+"Count",r);if(s||r<=i){e.call(this);n=true}}return n},playNext:function(){var t=false,e=this.props.get("playlist"),n=e.length,i=this.props.get("playhead"),r={};if(n>1){++i;if(i<n){r=s.getDefined(e[i]);r.playhead=i;this.set(r);this.reset();t=true}}return t},set:function(t,e,n){var i=this,r=t!==undefined,u={},o={};if(r){u=s.createBase(t,e)}if(n!==undefined){u.input=n;u.inputOrigin=n.get()}i.props.set(u);if(u.values){i.setValues(u.values,i.props.get())}o=i.values.get();for(var a in o){if(o.hasOwnProperty(a)){o[a].set("origin",o[a].get("current"))}}return i},setValues:function(t,e){var n=this.values.get();for(var i in t){if(t.hasOwnProperty(i)){this.setValue(i,t[i],e)}}if(this.getValue("angle")&&this.getValue("distance")){this.setValue("radialX",{link:o.ANGLE_DISTANCE});this.setValue("radialY",{link:o.ANGLE_DISTANCE})}},setValue:function(t,e,n){var i=this.getValue(t),r;if(i){i.set(e,n)}else{r=new p(c,this,t);r.set(e,n);this.values.set(t,r)}return this},getValue:function(t){return this.values.get(t)},setProp:function(t,e){this.props.set(t,e);return this},getProp:function(t){return this.props.get(t)},isActive:function(t){if(t!==undefined){this.active=t}return this.active},updateOrder:function(t,e){var n=this.props.get(),i=n.order=n.order?n.order:[],r=i.indexOf(t);if(r===-1||e){i.push(t);if(r!==-1){i.splice(r,1)}}}};e.exports=d},{"../input/pointer.js":23,"../opts/action.js":24,"../opts/keys.js":25,"../opts/value.js":26,"../types/repo.js":30,"../types/value.js":31,"../utils/calc.js":32,"../utils/utils.js":37,"./presets.js":8,"./processor.js":9,cycl:1}],8:[function(t,e,n){"use strict";var i=t("../opts/keys.js"),r=t("../utils/utils.js"),s={},u=function(){};u.prototype={define:function(){var t={},e="",n=[],u={};if(arguments[1]===undefined){t=arguments[0]}else{t[arguments[0]]=arguments[1]}for(e in t){if(t.hasOwnProperty(e)){if(s[e]&&!t[e].forceOverride){throw i.ERROR.ACTION_EXISTS}else{n=e.split(".");if(n.length>1){if(s[n[0]]){s[e]=r.merge(s[n[0]],t[e])}else{throw i.ERROR.NO_ACTION}}else{s[e]=t[e]}}}}},createBase:function(t,e){var n={},i=[];if(r.isObj(t)){n=t;n.playlist=[]}else{if(r.isString(t)){i=t.split(" ")}else{i=t}n=this.getDefined(i[0]);n.playlist=i}if(r.isObj(e)){n=this.merge(n,e)}return n},getDefined:function(t){return this.copy(s[t])},copy:function(t){var e={};for(var n in t){if(t.hasOwnProperty(n)){if(n!=="values"){e[n]=t[n]}else{e.values=r.copy(t.values)}}}return e},merge:function(t,e){for(var n in e){if(e.hasOwnProperty(n)){if(n!=="values"){t[n]=e[n]}else{t.values=r.merge(t.values,e.values)}}}return t}};e.exports=new u},{"../opts/keys.js":25,"../utils/utils.js":37}],9:[function(t,e,n){"use strict";var i=t("./rubix.js"),r=t("../opts/keys.js"),s=t("../utils/calc.js");e.exports=function(t,e,n){var u=t.props.store,o=t.data.store,a=t.values.store,c=u.order=u.order||[],f=c.length,l=i[u.rubix],p="",h,d,v,g=false;t.output={};if(l.updateInput){l.updateInput(t,u,e)}if(t.firstFrame){if(u.onStart){u.onStart.call(u.scope,t.output,o)}t.firstFrame=false}if(u.input){t.output.input=u.input.onFrame(e)}for(var m=0;m<f;m++){p=c[m];h=a[p].store;d=l;if(h.link){d=h.link!==r.ANGLE_DISTANCE?i["Link"]:i["AngleAndDistance"]}v=d.process(p,h,a,u,t,n);if(l.limit){v=l.limit(v,h)}if(h.round){v=Math.round(v)}h.velocity=s.speedPerSecond(s.difference(h.current,v),n);if(h.current!=v){g=true}h.current=v;t.output[p]=h.unit?v+h.unit:v}if(u.onFrame){u.onFrame.call(u.scope,t.output,o)}if(g&&u.onChange){u.onChange.call(u.scope,t.output,o)}if(l.hasEnded(t,g)){t.isActive(false);if(u.onEnd){u.onEnd.call(u.scope,t.output,o)}if(!t.isActive()){t.next()}}t.framestamp=e}},{"../opts/keys.js":25,"../utils/calc.js":32,"./rubix.js":10}],10:[function(t,e,n){"use strict";var i=t("../utils/calc.js"),r=t("../utils/utils.js"),s=t("../utils/easing.js"),u=t("../opts/keys.js"),o=t("./simulate.js"),a=function(){},c;a.prototype={Time:{updateInput:function(t,e,n){t.elapsed+=(n-t.framestamp)*e.dilate;t.hasEnded=true},process:function(t,e,n,u,o){var a=e.current,c=i.restricted(i.progress(o.elapsed-e.delay,e.duration)-e.stagger,0,1);o.hasEnded=c!==1?false:o.hasEnded;if(e.to!==undefined){c=e.steps?r.stepProgress(c,1,e.steps):c;a=s.withinRange(c,e.origin,e.to,e.ease)}return a},hasEnded:function(t){return t.hasEnded}},Input:{updateInput:function(t,e){t.inputOffset=i.offset(e.inputOrigin,e.input.current)},process:function(t,e,n,i,r){return r.inputOffset.hasOwnProperty(t)?e.origin+r.inputOffset[t]:e.current},hasEnded:function(){return false}},Run:{process:function(t,e,n,r,s,u){return e.current+i.speedPerFrame(o[e.simulate](e,u),u)},hasEnded:function(t,e){t.inactiveFrames=e?0:t.inactiveFrames+1;return t.inactiveFrames>3},limit:function(t,e){t=i.restricted(t,e.min,e.max);e.velocity=e.bounce&&(t<=e.min||t>=e.max)?o.bounce(e):e.velocity;return t}},Link:{process:function(t,e,n,r,s){var u=e.current,o=e.mapLink,a=e.mapTo,c=o!==undefined?o.length:0,u;if(n[e.link]){u=n[e.link].store.current}else if(s.inputOffset&&s.inputOffset.hasOwnProperty(e.link)){u=e.origin+s.inputOffset[t]}for(var f=1;f<c;f++){if(u<o[f]||f===c-1){u=i.value(i.restricted(i.progress(u,o[f-1],o[f]),0,1),a[f-1],a[f]);break}}return u}},AngleAndDistance:{process:function(t,e,n,r,s){var u={x:n.x?n.x.store.current:0,y:n.y?n.y.store.current:0},o=i.pointFromAngleAndDistance(u,n.angle.store.current,n.distance.store.current),a={radialX:o.x,radialY:o.y};return a[t]}}};c=new a;e.exports=c},{"../opts/keys.js":25,"../utils/calc.js":32,"../utils/easing.js":33,"../utils/utils.js":37,"./simulate.js":11}],11:[function(t,e,n){"use strict";var i=.2,r=t("../utils/calc.js"),s=r.speedPerFrame,u=function(){},o;u.prototype={velocity:function(t,e){return t.velocity-s(t.deceleration,e)+s(t.acceleration,e)},gravity:function(t,e){return t.velocity+s(t.gravity,e)},friction:function(t,e){var n=s(t.velocity,e)*(1-t.friction);return n<i&&n>-i?0:r.speedPerSecond(n,e)},spring:function(t,e){var n=t.to-t.current,i=n*s(t.spring,e);t.velocity+=i;return this.friction(t,e)},bounce:function(t){return t.velocity*=-t.bounce}};o=new u;e.exports=o},{"../utils/calc.js":32}],12:[function(t,e,n){"use strict";var i=t("../action/action.js"),r=t("../utils/calc.js"),s=t("../utils/parse-args.js"),u=t("./setter.js"),o=function(t){this.element=t;this.cache={};this.action=new i({dom:t,scope:this,onChange:u})};o.prototype={play:function(){this.action.play(s.playArgs.apply(s,arguments));return this}};e.exports=o},{"../action/action.js":7,"../utils/calc.js":32,"../utils/parse-args.js":36,"./setter.js":14}],13:[function(t,e,n){"use strict";var i=t("../css/templates.js"),r=t("../css/splitter-lookup.js"),s=function(t,e){var n={},i,r,s,u;for(var o in t){i=t[o];r=e[o].store,s=r.parent,u=r.unitName;if(s&&u){n[s]=n[s]||{};n[s][u]=t[o]}else{n[o]=t[o]}}return n},u=function(t,e){var n={},i={},r="";for(var s in t){r=o(s,t[s]);if(e&&e[s]!==r){n[s]=r}i[s]=r}return{latest:n,cache:i}},o=function(t,e){var n=i[r[t]],s="";if(n){s=n(e)}else{s=e}return s};e.exports=function(t,e,n){return u(s(t,n),e)}},{"../css/splitter-lookup.js":19,"../css/templates.js":21}],14:[function(t,e,n){"use strict";var i=t("./builder.js"),r=t("../css/set.js");e.exports=function(t){var e=this.action.props.store,n=this.action.values.store,s=e.dom,u;if(s){u=i(t,e.css,n);r(e.dom,u.latest);console.log(u.latest);e.css=u.cache}}},{"../css/set.js":18,"./builder.js":13}],15:[function(t,e,n){"use strict";var i={color:{min:0,max:255,round:true},opacity:{min:0,max:1}};i.Red=i.Green=i.Blue=i.color;i.Alpha=i.opacity;console.log(i);e.exports=i},{}],16:[function(t,e,n){"use strict";e.exports={colors:["Red","Green","Blue","Alpha"],positions:["X","Y","Z"],dimensions:["Top","Right","Bottom","Left"],shadow:["X","Y","Radius","Spread","Color"]}},{}],17:[function(t,e,n){"use strict";var i=t("./default-property.js"),r=t("./splitter-lookup.js"),s=t("./splitters.js"),u=t("../utils/utils.js"),o=["to","start","current","min","max"],a=o.length,c=function(t,e,n,r,s){var o=i[e+n]||i[n]||i[e]||{};if(s){o=u.merge(s,o)}if(u.isObj(t)){o=u.merge(o,t)}else{o[r]=t}o.parent=e;o.unitName=n;return o},f=function(t,e,n,i){var f=r[e],l={},p={},h="",d="";if(f){if(u.isObj(t)){for(var v=0;v<a;v++){h=o[v];if(t[h]){p=s[f](t[h]);for(d in p){l[d]=l[d]||{};l[d][h]=p[d]}}}}else{l=s[f](t)}for(d in l){n[e+d]=c(l[d],e,d,i,t)}}else{n[e]=c(t,e,null,i)}return n};e.exports={cssToValues:function(t,e){var n={};e=e||"current";for(var i in t){if(t.hasOwnProperty(i)){n=f(t[i],i,n,e)}}return n}}},{"../utils/utils.js":37,"./default-property.js":15,"./splitter-lookup.js":19,"./splitters.js":20}],18:[function(t,e,n){"use strict";var i=function(){var t=document.getElementsByTagName("body")[0],e=["Webkit","Moz","O","ms",""],n=e.length,i="",r={},s=function(i){r[i]=i;for(var s=0;s<n;s++){var u=e[s]+i.charAt(0).toUpperCase()+i.slice(1);if(t.style.hasOwnProperty(u)){r[i]=u}}return r[i]};return function(t,e){if(typeof e==="string"){return window.getComputedStyle(t,null)[r[e]||s(e)]}else{for(var n in e){if(e.hasOwnProperty(n)){t.style[r[n]||s(n)]=e[n]}}return this}}};e.exports=new i},{}],19:[function(t,e,n){"use strict";var i="array",r="color",s="positions",u="dimensions",o="shadow";e.exports={color:r,backgroundColor:r,borderColor:r,borderTopColor:r,borderRightColor:r,borderBottomColor:r,borderLeftColor:r,outlineColor:r,margin:u,padding:u,backgroundPosition:s,perspectiveOrigin:s,transformOrigin:s,skew:s,scale:s,translate:s,rotate:s,matrix:i,matrix3d:i,textShadow:o,boxShadow:o}},{}],20:[function(t,e,n){"use strict";var i=t("./dictionary.js"),r=function(t){return t.split(/,\s*/)},s=function(t){return t.split(" ")},u=function(t){return t.substring(t.indexOf("(")+1,t.lastIndexOf(")"))},o=function(t){var e=[],n,i,r;if(t.length>4){n=t.substr(1,2);i=t.substr(3,2);r=t.substr(5,2)}else{n=t.substr(1,1);i=t.substr(2,1);r=t.substr(3,1);n+=n;i+=i;r+=r}return[parseInt(n,16),parseInt(i,16),parseInt(r,16)]},a=function(t){return t.indexOf("#")>-1||t.indexOf("rgb")>-1},c={array:function(t){var e=t.indexOf(",")>-1?r(t):s(t),n=e.length,i=0,u={};for(;i<n;i++){u[i]=e[i]}return u},color:function(t){var e=t.indexOf("#")>-1?o(t):r(u(t)),n=e.length,s=i.colors,a=0,c={};for(;a<n;a++){c[s[a]]=e[a]}return c},dimensions:function(t){var e=s(t),n=e.length,r=i.dimensions,u=n!==1?2:1,o,a=o=0,c={};for(;o<4;o++){c[r[o]]=e[a];a++;a=a===n?a-u:a}return c},positions:function(t){var e=s(t),n=e.length,i=0,r={X:e[0],Y:n>1?e[1]:e[0]};if(n>2){r.Z=e[2]}return r},shadow:function(t){var e=s(t),n=e.length,r=i.shadow,u,o="",f,l,p=0,h,d={};for(;p<n;p++){f=e[p];if(u||a(f)){u=true;o+=f}else{d[r[p]]=f}}l=c.color(o);for(var h in l){d[h]=l[h]}return d}};e.exports=c},{"./dictionary.js":16}],21:[function(t,e,n){"use strict";var i=t("./dictionary.js"),r={Alpha:1},s=function(t,e){return e+"("+t+")"},u=function(t,e){return a(t,e," ")},o=function(t,e){return a(t,e,", ")},a=function(t,e,n){var i="",s=e.length;for(var u=0;u<s;u++){if(t[e[u]]!==undefined){i+=t[e[u]]}else{if(r[e[u]]!==undefined){i+=r[e[u]]}}i+=n}return i.slice(0,-n.length)},c={array:function(t){var e="";for(var n in t){e+=value[n]+", "}return e.slice(0,-2)},color:function(t){return s(o(t,i.colors),"rgba")},dimensions:function(t){return u(t,i.dimensions)},positions:function(t){return u(t,i.positions)},shadow:function(t){var e=i.shadow.slice(0,4);return u(t,e)+c.color(t)}};e.exports=c},{"./dictionary.js":16}],22:[function(t,e,n){"use strict";var i=t("../utils/calc.js"),r=t("../utils/utils.js"),s=t("../utils/history.js"),u=function(){var t=arguments.length-1;this.current={};this.offset={};this.velocity={};this.history=new s;this.update(arguments[0],arguments[1]);if(r.isFunc(arguments[t])){this.poll=arguments[t]}};u.prototype={maxInactiveFrames:2,inactiveFrames:0,get:function(t){var e=this.history.get(),n=t!==undefined?e[t]:e;return n},update:function(){var t={};if(r.isNum(arguments[1])){t[arguments[0]]=arguments[1]}else{t=arguments[0]}this.history.add(r.merge(this.current,t));return this},onFrame:function(t){var e,n;if(t===this.lastFrame){return}e=this.poll?this.poll():this.history.get();n=r.hasChanged(this.current,e);if(n){this.velocity=i.offset(this.current,e);this.current=e;this.inactiveFrames=0}else if(this.inactiveFrames>=this.maxInactiveFrames){this.velocity=i.offset(this.current,this.current)}else{this.inactiveFrames++}this.lastFrame=t;return this}};e.exports=u},{"../utils/calc.js":32,"../utils/history.js":35,"../utils/utils.js":37}],23:[function(t,e,n){"use strict";var i=t("./input.js"),r=t("../types/point.js"),s=t("../utils/history.js"),u=t("../opts/keys.js"),o=t("../utils/utils.js"),a,c=function(t){var e=o.getActualEvent(t),n=o.isTouchEvent(e),i=o.convertEventIntoPoint(e,n);this.update(new r(i));this.isTouch=n;this.bindEvents()};c.prototype=new i;c.prototype.bindEvents=function(t){this.moveEvent=this.isTouch?u.EVENT.TOUCHMOVE:u.EVENT.MOUSEMOVE;a=this;document.documentElement.addEventListener(this.moveEvent,this.onMove)};c.prototype.unbindEvents=function(){document.documentElement.removeEventListener(this.moveEvent,this.onMove)};c.prototype.onMove=function(t){t=o.getActualEvent(t);t.preventDefault();a.update(new r(o.convertEventIntoPoint(t,a.isTouch)))};c.prototype.stop=function(){this.unbindEvents()};e.exports=c},{"../opts/keys.js":25,"../types/point.js":29,"../utils/history.js":35,"../utils/utils.js":37,"./input.js":22}],24:[function(t,e,n){"use strict";var i=t("../action/rubix.js");e.exports={active:false,rubix:"Time",amp:1,escapeAmp:0,delay:0,duration:400,ease:"easeInOut",round:false,steps:0,dilate:1,order:undefined,playlist:undefined,playhead:0,progress:undefined,input:undefined,inputOrigin:undefined,link:undefined,loop:false,loopCount:0,yoyo:false,yoyoCount:0,onStart:undefined,onEnd:undefined,onFrame:undefined,onChange:undefined,output:undefined}},{"../action/rubix.js":10}],25:[function(t,e,n){"use strict";e.exports={REDSHIFT:"redshift",ANGLE_DISTANCE:"angle distance",EASING:{IN:"In",IN_OUT:"InOut",OUT:"Out"},RUBIX:{INPUT:"Input",TIME:"Time",RUN:"Run"},ERROR:{ACTION_EXISTS:"Action defined. Use forceOverride: true",NO_ACTION:"Action not defined",INVALID_EASING:": Not defined"},EVENT:{MOUSE:"mouse",MOUSEMOVE:"mousemove",TOUCH:"touch",TOUCHMOVE:"touchmove"}}},{}],26:[function(t,e,n){"use strict";e.exports={current:0,start:0,to:undefined,min:undefined,max:undefined,hasRange:false,round:false,parent:undefined,unitName:undefined,link:undefined,mapLink:undefined,mapTo:undefined,simulate:"velocity",velocity:0,deceleration:0,acceleration:0,gravity:30,bounce:0,friction:0,spring:.03,duration:400,delay:0,stagger:0,ease:"easeInOut",steps:0,escapeAmp:0}},{}],27:[function(t,e,n){"use strict";var i=t("./action/action.js"),r=t("./atom/atom.js"),s=t("./input/input.js"),u=t("./action/presets.js"),o=t("./utils/easing.js"),a=t("./utils/calc.js"),c=t("cycl"),f=function(){};f.prototype={newAction:function(t,e){return new i(t,e)},newAtom:function(t){return new r(t)},newInput:function(){return new s(arguments[0],arguments[1])},define:function(){u.define.apply(u,arguments);return this},addBezier:function(){o.addBezier.apply(o,arguments);return this},calc:a,cycl:c};e.exports=new f},{"./action/action.js":7,"./action/presets.js":8,"./atom/atom.js":12,"./input/input.js":22,"./utils/calc.js":32,"./utils/easing.js":33,cycl:1}],28:[function(t,e,n){(function(t){"use strict";var n=8,i=.001,r=1e-7,s=10,u=11,o=1/(u-1),a="Float32Array"in t,c=function(t,e,n,i){var r=this;this.precompute(t,e,n,i);return function(s){return r.calcBezier(r.getTForX(s,t,n),e,i)}};c.prototype={precompute:function(t,e,n,i){this.mSampleValues=a?new Float32Array(u):new Array(u);this.calcSampleValues(t,n)},calcSampleValues:function(t,e){for(var n=0;n<u;++n){this.mSampleValues[n]=this.calcBezier(n*o,t,e)}},newtonRaphsonIterate:function(t,e,i,r){var s=0,u,o;for(s;s<n;++s){u=this.getSlope(e,i,r);if(u!==0){o=this.calcBezier(e,i,r)-t;e-=o/u}}return t},binarySubdivide:function(t,e,n,i,u){var o=0,a,c;do{c=e+(n-e)/2;a=this.calcBezier(c,i,u)-t;if(a>0){n=c}else{e=c}}while(Math.abs(a)>r&&++o<s);return c},getTForX:function(t,e,n){var r=0,s=1,a=u-1,c,f,l;for(r;s!=a&&this.mSampleValues[s]<=t;++s){r+=o}--s;c=t-this.mSampleValues[s]/(this.mSampleValues[s+1]-this.mSampleValues[s]);f=r+c*o;l=this.getSlope(f,e,n);if(l===i){t=this.newtonRaphsonIterate(t,f,e,n)}else if(l==0){t=f}else{t=this.binarySubdivide(t,r,r+o,e,n)}return t},getSlope:function(t,e,n){return 3*this.A(e,n)*t*t+2*this.B(e,n)*t+this.C(e)},calcBezier:function(t,e,n){return((this.A(e,n)*t+this.B(e,n))*t+this.C(e))*t},A:function(t,e){return 1-3*e+3*t},B:function(t,e){return 3*e-6*t},C:function(t){return 3*t}};e.exports=c}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],29:[function(t,e,n){"use strict";var i=function(t,e,n){this.setPoint(t,e,n)};i.prototype={setPoint:function(t,e,n){var i=typeof t==="object";this.x=i?t.x||0:t||0;this.y=i?t.y||0:e||0;this.z=i?t.z||0:n||0}};e.exports=i},{}],30:[function(t,e,n){"use strict";var i=t("../utils/utils.js"),r=function(){this.store={};this.set.apply(this,arguments)};r.prototype={get:function(){var t=arguments;return t.length?this.store[t[0]]:this.store},set:function(t){if(i.isObj(t)){for(var e in t){if(t.hasOwnProperty(e)){this.store[e]=t[e]}}}else if(t!==undefined){this.store[t]=arguments[1]}return this}};e.exports=r},{"../utils/utils.js":37}],31:[function(t,e,n){"use strict";var i=t("../utils/calc.js"),r=t("../utils/utils.js"),s=t("./repo.js"),u=function(t,e,n,s){var u=t,o;if(r.isFunc(t)){u=t.call(s.props.store.scope,e)}if(r.isRelativeValue(u)){u=i.relativeValue(e,t)}if(r.isString(u)){o=r.splitValUnit(u);if(!isNaN(o.value)){u=o.value;n.unit=o.unit}}return u},o=function(t,e,n,i){var r={},s;for(var o in n){s=undefined;if(e&&e.hasOwnProperty(o)&&!t.hasOwnProperty(o)){s=e[o]}else if(t.hasOwnProperty(o)){s=t[o]}if(s!==undefined){r[o]=u(s,n[o],n,i)}}return r},a=function(){var t=new s,e=t.set,n=true,i=arguments[1],a=arguments[2];e.call(t,arguments[0]);t.set=function(){var t=arguments,s=t[0],c=t[1],f={},l,p=false;if(r.isObj(s)){f=o(s,c,this.store,i);if(n){n=false;if(s.hasOwnProperty("start")){e.apply(this,["current",u(s.start,this.get("current"),this.store,i)])}}}else{if(r.isString(s)&&!r.isRelativeValue(s)){f[s]=u(c,this.get("current"),this.store,i)}else{f.current=u(s,this.get("current"),this.store,i)}}e.apply(this,[f]);l=this.store;e.apply(this,["hasRange",r.isNum(l.min)&&r.isNum(l.max)]);i.updateOrder(a,r.isString(l.link))};t.reset=function(){this.set("current",this.get("origin"))};t.reverse=function(){var t=this.get("to");this.set({to:this.get("origin"),origin:t!==undefined?t:this.get("current")})};return t};e.exports=a},{"../utils/calc.js":32,"../utils/utils.js":37,"./repo.js":30}],32:[function(t,e,n){"use strict";var i=t("./utils.js");e.exports={angle:function(t,e){var n=e?t:{x:0,y:0},i=e||t,r={x:this.difference(n.x,i.x),y:this.difference(n.y,i.y)};return this.angleFromCenter(r.x,r.y)},angleFromCenter:function(t,e){return Math.atan2(e,t)},degreesToRadians:function(t){return t*Math.PI/180},difference:function(t,e){return e-t},dilate:function(t,e,n){return t+(e-t)*n},distance:function(t,e){return typeof t==="number"?this.distance1D(t,e):this.distance2D(t,e)},distance1D:function(t,e){var n=typeof e==="number",i=n?t:0,r=n?e:t;return Math.abs(this.difference(i,r))},distance2D:function(t,e){var n=typeof e==="object",i=n?t:{x:0,y:0},r=n?e:t,s={x:Math.abs(this.difference(i.x,r.x)),y:Math.abs(this.difference(i.y,r.y))};return this.hypotenuse(s.x,s.y)},hypotenuse:function(t,e){var n=t*t,i=e*e,r=n+i;return Math.sqrt(r)},offset:function(t,e){var n={},r,s;for(var u in e){if(e.hasOwnProperty(u)){if(t.hasOwnProperty(u)){n[u]=this.difference(t[u],e[u])}else{n[u]=0}}}if(i.isNum(n.x)&&i.isNum(n.y)){n.angle=this.angle(t,e);n.distance=this.distance2D(t,e)}return n},pointFromAngleAndDistance:function(t,e,n){var i={};i.x=n*Math.cos(e)+t.x;i.y=n*Math.sin(e)+t.y;return i},progress:function(t,e,n){var i=typeof n==="number",r=i?e:0,s=i?n:e,u=this.difference(r,s),o=(t-r)/u;return o},radiansToDegrees:function(t){return t*180/Math.PI},random:function(t,e){t=i.isNum(t)?t:0;e=i.isNum(e)?e:1;return Math.random()*(e-t)+t},relativeValue:function(t,e){var n=t,r=e.split("="),s=r[0],u=i.splitValUnit(r[1]);switch(s){case"+":n+=u.value;break;case"-":n-=u.value;break;case"*":n*=u.value;break;case"/":n/=u.value;break}if(u.unit){n+=u.unit}return n},restricted:function(t,e,n){var i=e!==undefined?Math.max(t,e):t;i=n!==undefined?Math.min(i,n):i;return i},speedPerFrame:function(t,e){return i.isNum(t)?t/(1e3/e):0},speedPerSecond:function(t,e){return t*(1e3/e)},timeRemaining:function(t,e){return(1-t)*e},value:function(t,e,n){var i=typeof n==="number",r=i?e:0,s=i?n:e;return-t*r+t*s+r},valueEased:function(t,e,n,i){var r=i(t);return this.value(r,e,n)}}},{"./utils.js":37}],33:[function(t,e,n){"use strict";var i=t("./calc.js"),r=t("./utils.js"),s=t("../opts/keys.js"),u=t("../types/bezier.js"),o=function(){},a,c={ease:function(t){return Math.pow(t,2)},cubic:function(t){return Math.pow(t,3)},quart:function(t){return Math.pow(t,4)},quint:function(t){return Math.pow(t,5)},circ:function(t){return 1-Math.sin(Math.acos(t))},back:function(t){var e=1.5;return t*t*((e+1)*t-e)}},f={bounce:function(t){if(t<1/2.75){return 7.5625*t*t}else if(t<2/2.75){return 7.5625*(t-=1.5/2.75)*t+.75}else if(t<2.5/2.75){return 7.5625*(t-=2.25/2.75)*t+.9375}else{return 7.5625*(t-=2.625/2.75)*t+.984375}},swing:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},spring:function(t){return 1-Math.cos(t*4.5*Math.PI)*Math.exp(-t*6)}};o.prototype={get:function(t){var e=this[t];if(!e){throw t+s.ERROR.INVALID_EASING}return e},addBezier:function(t,e,n,i,r){if(!this[t]){this[t]=new u(e,n,i,r)}},mirrorEasing:function(t,e){var n;if(t<=.5){n=e(2*t)/2}else{n=(2-e(2*(1-t)))/2}return n},reverseEasing:function(t,e){return 1-e(1-t)},generate:function(t,e,n){var i=this,r={easeIn:t+s.EASING.IN,easeOut:t+s.EASING.OUT,easeInOut:t+s.EASING.IN_OUT},u=n?r.easeIn:r.easeOut,o=n?r.easeOut:r.easeIn;this[u]=e;this[o]=function(t){return i.reverseEasing(t,i[u])};this[r.easeInOut]=function(t){return i.mirrorEasing(t,i[u])}},withinRange:function(t,e,n,r,s){var u=i.restricted(t,0,1);if(u!==t&&s){r="linear";u=u+i.difference(u,t)*s}return i.valueEased(u,e,n,this.get(r))},linear:function(t){return t}};a=new o;l();function l(){for(var t in c){if(c.hasOwnProperty(t)){a.generate(t,c[t],true)}}for(t in f){if(f.hasOwnProperty(t)){a.generate(t,f[t])}}}e.exports=a},{"../opts/keys.js":25,"../types/bezier.js":28,"./calc.js":32,"./utils.js":37}],34:[function(t,e,n){window.redshift=t("../redshift.js")},{"../redshift.js":27}],35:[function(t,e,n){"use strict";var i=3,r=t("../utils/utils.js"),s=function(t,e){this.max=e||i;this.entries=[];this.add(t)};s.prototype={add:function(t){var e=this.getSize();this.entries.push(t);if(e>=this.max){this.entries.shift()}},get:function(t){t=r.isNum(t)?t:this.getSize()-1;return this.entries[t]},getPrevious:function(){var t=this.getSize()-2;return this.get(t)},getSize:function(){return this.entries.length}};e.exports=s},{"../utils/utils.js":37}],36:[function(t,e,n){"use strict";var i=t("./utils.js"),r=t("../css/parse.js");e.exports={playArgs:function(){var t={},e,n=arguments.length;for(var s=0;s<n;s++){e=arguments[s];if(!t.duration&&i.isNum(e)){t.duration=e}else if(!t.ease&&i.isString(e)){t.ease=e}else if(!t.onEnd&&i.isFunc(e)){t.onEnd=e}else{t.values=r.cssToValues(e,"to")}}return t},trackArgs:function(){var t=[],e=arguments.length;if(e>1){t.push({values:r.cssToValues(arguments[0])})}t.push(arguments[e-1]);return t}}},{"../css/parse.js":17,"./utils.js":37}],37:[function(t,e,n){"use strict";var i=t("../opts/keys.js");e.exports={convertEventIntoPoint:function(t,e){return{x:e?t.changedTouches[0].clientX:t.screenX,y:e?t.changedTouches[0].clientY:t.screenY}},getActualEvent:function(t){return t.originalEvent||t},hasChanged:function(t,e){var n=false;for(var i in e){if(t.hasOwnProperty(i)&&e.hasOwnProperty(i)){if(t[i]!==e[i]){n=true}}else{n=true}}return n},isMouseEvent:function(t){return t.indexOf(i.EVENT.MOUSE)>-1},isTouchEvent:function(t){return t.touches?true:false},isNum:function(t){return typeof t==="number"},isObj:function(t){return typeof t==="object"},isFunc:function(t){return this.varType(t)==="Function"},isString:function(t){return typeof t==="string"},isRelativeValue:function(t){return t&&t.indexOf&&t.indexOf("=")>0},isArray:function(t){return this.varType(t)==="Array"},isInRange:function(t,e,n){return t>=e&&t<=n},copy:function(t){return this.isArray(t)?this.copyArray(t):this.copyObject(t)},copyObject:function(t){var e={};for(var n in t){if(t.hasOwnProperty(n)){e[n]=this.isObj(t[n])?this.copy(t[n]):t[n]}}return e},copyArray:function(t){var e=[],n=t.length,i=0;for(var i=0;i<n;i++){e[i]=this.isObj(t[i])?this.copy(t[i]):t[i]}return e},merge:function(t,e){return this.isArray(t)?this.copyArray(e):this.mergeObject(t,e)},mergeObject:function(t,e){var n=this.copyObject(t);for(var i in e){if(e.hasOwnProperty(i)){if(this.isObj(e[i])){if(this.isObj(n[i])){n[i]=this.merge(n[i],e[i])}else{n[i]=this.copy(e[i])}}else{n[i]=e[i]}}}return n},splitValUnit:function(t){var e=t.match(/(-?\d*\.?\d*)(.*)/);return{value:parseFloat(e[1]),unit:e[2]}},stepProgress:function(t,e,n){var i=0,r=e/n;for(var s=0;s<=n;s++){i=s*r;if((s+1)*r>t){break}}return i},varType:function(t){return Object.prototype.toString.call(t).slice(8,-1)},currentTime:function(){return(new Date).getTime()
}}},{"../opts/keys.js":25}]},{},[34]);